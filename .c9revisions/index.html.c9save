{"ts":1365433975865,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1365433960615,"patch":[[{"diffs":[[1,"<html>\r\n<head>\r\n<title>Cloud9, NodeJS & Heroku: websockets for all</title>\r\n\r\n<script src=\"/socket.io/socket.io.js\"></script>\r\n\r\n<script>\r\nonerror = function (msg) {\r\nlog(msg);\r\n}\r\nfunction log(msg) {\r\ndocument.getElementById('log').appendChild(document.createTextNode(new Date() + ' ' + msg + '\\n'));\r\n}\r\nfunction status(msg) {\r\nlog(msg);\r\ndocument.getElementById('status').textContent = msg;\r\n}\r\nfunction clearLog() {\r\nvar e = document.getElementById('log');\r\nwhile (e.hasChildNodes()) {\r\ne.removeChild(e.firstChild);\r\n}\r\ne.appendChild(document.createTextNode('Log: \\n'));\r\n}\r\n</script>\r\n\r\n<script>\r\nvar socket = null;\r\nfunction connect() {\r\nlog('Connecting to local server...');\r\nif (socket == null) {\r\nsocket = io.connect(null,{'auto connect': false});\r\nsocket.on('connect', function () {\r\nstatus('Connected');\r\n});\r\n\r\nsocket.on('message', function (data) {\r\nlog(data);\r\n});\r\n}\r\nsocket.socket.connect();\r\n}\r\n\r\nfunction send() {\r\nif (socket && socket.socket.connected) {\r\nsocket.send(document.getElementById('text').value);\r\nlog('>' + document.getElementById('text').value);\r\n} else {\r\nlog('Not connected.');\r\n}\r\n}\r\n\r\nfunction send100() {\r\nif (socket && socket.socket.connected) {\r\nfor (var i = 0; i < 100; i += 1) {\r\nsocket.send('test'+ i);\r\nlog('> test' + i);\r\n}\r\n} else {\r\nlog('Not connected.');\r\n}\r\n}\r\n\r\nfunction update() {\r\nif (socket && socket.socket && socket.socket.transport) {\r\ndocument.getElementById('sessionId').textContent = socket.socket.transport.sessid;\r\ndocument.getElementById('transport').textContent = socket.socket.transport.name;\r\n} else {\r\ndocument.getElementById('sessionId').textContent = '-';\r\ndocument.getElementById('transport').textContent = '-';\r\n}\r\n}\r\nsetInterval(update, 10);\r\n\r\n</script>\r\n</head>\r\n\r\n<body onload=\"connect()\">\r\n<p>\r\n<label style='width:200px;float:left'>Status: <span id=\"status\">Idle</span></label>\r\n</p>\r\n<p>SessionId: <span id=\"sessionId\">-</span></p>\r\n<p>Transport: <span id=\"transport\">-</span></p>\r\n\r\n<p>\r\n<label>Message: <input id=\"text\" type=\"text\" size=\"80\" value=\"\"/></label>\r\n<input type=button value=\"Echo\" onclick=\"send()\">\r\n</p>\r\n\r\n<p>\r\n<input type=button value=\"Spam 100 packets\" onclick=\"send100()\" />\r\n<input type=button value=\"Clear log\" onclick=\"clearLog()\" />\r\n</p>\r\n\r\n<pre id=\"log\">Log:</pre>\r\n</body>\r\n</html>"]],"start1":0,"start2":0,"length1":0,"length2":2284}]],"length":2284,"saved":false}
{"contributors":[],"silentsave":false,"ts":1365504577432,"patch":[[{"diffs":[[1,"<!DOCTYPE HTML>\r\n"],[0,"<html>\r\n"]],"start1":0,"start2":0,"length1":8,"length2":25},{"diffs":[[0,"d>\r\n"],[1,"    "],[0,"<title>"],[-1,"Cloud9, NodeJS & Heroku: websockets for all"],[1,"Loic TRUCHOT : Parcours et actualit√©s"],[0,"</ti"]],"start1":29,"start2":29,"length1":58,"length2":56},{"diffs":[[0,"title>\r\n"],[-1,"\r\n"],[1,"    "],[0,"<script "]],"start1":83,"start2":83,"length1":18,"length2":20},{"diffs":[[0,".js\"></script>\r\n"],[-1,"\r\n"],[1,"    "],[0,"<script>\r\nonerro"]],"start1":128,"start2":128,"length1":34,"length2":36},{"diffs":[[0,"cript>\r\n"],[1,"    "],[0,"onerror "]],"start1":150,"start2":150,"length1":16,"length2":20},{"diffs":[[0,"nction (msg) {\r\n"],[1,"        "],[0,"log(msg);\r\n}\r\nfu"]],"start1":174,"start2":174,"length1":32,"length2":40},{"diffs":[[0," log(msg);\r\n"],[-1,"}\r\n"],[1,"    }\r\n    "],[0,"function log"]],"start1":197,"start2":197,"length1":27,"length2":35},{"diffs":[[0,"log(msg) {\r\n"],[1,"        "],[0,"document.get"]],"start1":229,"start2":229,"length1":24,"length2":32},{"diffs":[[0,"\\n'));\r\n"],[-1,"}\r\n"],[1,"    }\r\n    "],[0,"function"]],"start1":342,"start2":342,"length1":19,"length2":27},{"diffs":[[0,"tus(msg) {\r\n"],[1,"    "],[0,"log(msg);\r\nd"]],"start1":373,"start2":373,"length1":24,"length2":28},{"diffs":[[0,"(msg);\r\n"],[1,"    "],[0,"document"]],"start1":392,"start2":392,"length1":16,"length2":20},{"diffs":[[0,"= msg;\r\n"],[-1,"}\r\n"],[1,"    }\r\n    "],[0,"function"]],"start1":450,"start2":450,"length1":19,"length2":27},{"diffs":[[0,"og() {\r\n"],[1,"        "],[0,"var e = "]],"start1":484,"start2":484,"length1":16,"length2":24},{"diffs":[[0,"log');\r\n"],[1,"        "],[0,"while (e"]],"start1":533,"start2":533,"length1":16,"length2":24},{"diffs":[[0,"s()) {\r\n"],[1,"            "],[0,"e.remove"]],"start1":570,"start2":570,"length1":16,"length2":28},{"diffs":[[0,"hild);\r\n"],[-1,"}\r\n"],[1,"        }\r\n        "],[0,"e.append"]],"start1":612,"start2":612,"length1":19,"length2":35},{"diffs":[[0,"\\n'));\r\n"],[-1,"}\r\n"],[1,"    }\r\n    "],[0,"</script"]],"start1":683,"start2":683,"length1":19,"length2":27}]],"length":2407,"saved":false}
{"ts":1365504585438,"patch":[[{"diffs":[[0,"tus(msg) {\r\n"],[1,"    "],[0,"    log(msg)"]],"start1":373,"start2":373,"length1":24,"length2":28},{"diffs":[[0," log(msg);\r\n"],[1,"    "],[0,"    document"]],"start1":392,"start2":392,"length1":24,"length2":28}]],"length":2415,"saved":false}
{"ts":1365504623224,"patch":[[{"diffs":[[0,"pt>\r\n   "],[1," //"],[0," onerror"]],"start1":153,"start2":153,"length1":16,"length2":19},{"diffs":[[0,"ion (msg) {\r\n   "],[1," //"],[0,"     log(msg);\r\n"]],"start1":180,"start2":180,"length1":32,"length2":35},{"diffs":[[0,"g(msg);\r\n   "],[1," //"],[0," }\r\n   "],[1," //"],[0," function lo"]],"start1":206,"start2":206,"length1":31,"length2":37},{"diffs":[[0,"(msg) {\r\n   "],[1," //"],[0,"     documen"]],"start1":244,"start2":244,"length1":24,"length2":27},{"diffs":[[0,"'\\n'));\r\n   "],[1," //"],[0," }\r\n   "],[1," //"],[0," function st"]],"start1":356,"start2":356,"length1":31,"length2":37},{"diffs":[[0,"(msg) {\r\n   "],[1," //"],[0,"     log(msg"]],"start1":397,"start2":397,"length1":24,"length2":27},{"diffs":[[0,");\r\n    "],[1,"//"],[0,"    "],[1," "],[0,"document"]],"start1":424,"start2":424,"length1":20,"length2":23},{"diffs":[[0,"sg;\r\n   "],[1," //"],[0," }\r\n   "],[1," //"],[0," functio"]],"start1":488,"start2":488,"length1":23,"length2":29},{"diffs":[[0,"Log() {\r\n   "],[1," //"],[0,"     var e ="]],"start1":524,"start2":524,"length1":24,"length2":27},{"diffs":[[0,"'log');\r\n   "],[1," //"],[0,"     while ("]],"start1":576,"start2":576,"length1":24,"length2":27},{"diffs":[[0,"es()) {\r\n   "],[1," //"],[0,"         e.r"]],"start1":616,"start2":616,"length1":24,"length2":27},{"diffs":[[0,"Child);\r\n   "],[1," //"],[0,"     }\r\n    "]],"start1":661,"start2":661,"length1":24,"length2":27},{"diffs":[[0,"  }\r\n   "],[1," //"],[0,"     e.a"]],"start1":679,"start2":679,"length1":16,"length2":19},{"diffs":[[0,"));\r\n   "],[1," //"],[0," }\r\n    "]],"start1":742,"start2":742,"length1":16,"length2":19}]],"length":2466,"saved":false}
{"ts":1365504695423,"patch":[[{"diffs":[[0,"cript>\r\n"],[-1,"\r\n"],[1,"    "],[0,"<script>"]],"start1":764,"start2":764,"length1":18,"length2":20},{"diffs":[[0,"cript>\r\n"],[1,"    // "],[0,"var sock"]],"start1":778,"start2":778,"length1":16,"length2":23},{"diffs":[[0," null;\r\n"],[1,"    // "],[0,"function"]],"start1":805,"start2":805,"length1":16,"length2":23},{"diffs":[[0,"onnect() {\r\n"],[1,"    // "],[0,"log('Connect"]],"start1":830,"start2":830,"length1":24,"length2":31},{"diffs":[[0,"...');\r\n"],[1,"    // "],[0,"if (sock"]],"start1":880,"start2":880,"length1":16,"length2":23},{"diffs":[[0,"== null) {\r\n"],[1,"    // "],[0,"socket = io."]],"start1":906,"start2":906,"length1":24,"length2":31},{"diffs":[[0,"lse});\r\n"],[1,"    // "],[0,"socket.o"]],"start1":969,"start2":969,"length1":16,"length2":23},{"diffs":[[0,"n () {\r\n"],[1,"    // "],[0,"status('"]],"start1":1012,"start2":1012,"length1":16,"length2":23},{"diffs":[[0,");\r\n"],[-1,"});\r\n\r\n"],[1,"    // });\r\n    // \r\n    // "],[0,"sock"]],"start1":1045,"start2":1045,"length1":15,"length2":36},{"diffs":[[0,"n (data) {\r\n"],[1,"    // "],[0,"log(data);\r\n"]],"start1":1105,"start2":1105,"length1":24,"length2":31},{"diffs":[[0,");\r\n"],[-1,"});\r\n}\r\nsocket.socket.connect();\r\n}\r\n\r\n"],[1,"    // });\r\n    // }\r\n    // socket.socket.connect();\r\n    // }\r\n    // \r\n    // "],[0,"func"]],"start1":1132,"start2":1132,"length1":47,"length2":89},{"diffs":[[0,"n send() {\r\n"],[1,"    // "],[0,"if (socket &"]],"start1":1224,"start2":1224,"length1":24,"length2":31},{"diffs":[[0,"nnected) {\r\n"],[1,"    // "],[0,"socket.send("]],"start1":1273,"start2":1273,"length1":24,"length2":31},{"diffs":[[0,"').value);\r\n"],[1,"    // "],[0,"log('>' + do"]],"start1":1333,"start2":1333,"length1":24,"length2":31},{"diffs":[[0,"alue);\r\n"],[1,"    // "],[0,"} else {"]],"start1":1395,"start2":1395,"length1":16,"length2":23},{"diffs":[[0,"   // } else {\r\n"],[1,"    // "],[0,"log('Not connect"]],"start1":1404,"start2":1404,"length1":32,"length2":39},{"diffs":[[0,"nected.');\r\n"],[-1,"}\r\n}\r\n\r\n"],[1,"    // }\r\n    // }\r\n    // \r\n    // "],[0,"function sen"]],"start1":1439,"start2":1439,"length1":32,"length2":60},{"diffs":[[0,"end100() {\r\n"],[1,"    // "],[0,"if (socket &"]],"start1":1497,"start2":1497,"length1":24,"length2":31},{"diffs":[[0,"ted) {\r\n"],[1,"    // "],[0,"for (var"]],"start1":1550,"start2":1550,"length1":16,"length2":23},{"diffs":[[0,"= 1) {\r\n"],[1,"    // "],[0,"socket.s"]],"start1":1593,"start2":1593,"length1":16,"length2":23},{"diffs":[[0,"'+ i);\r\n"],[1,"    // "],[0,"log('> t"]],"start1":1625,"start2":1625,"length1":16,"length2":23},{"diffs":[[0," + i);\r\n"],[-1,"}\r\n"],[1,"    // }\r\n    // "],[0,"} else {"]],"start1":1652,"start2":1652,"length1":19,"length2":33},{"diffs":[[0,"else {\r\n"],[1,"    // "],[0,"log('Not"]],"start1":1679,"start2":1679,"length1":16,"length2":23},{"diffs":[[0,");\r\n"],[-1,"}\r\n}\r\n\r\n"],[1,"    // }\r\n    // }\r\n    // \r\n    // "],[0,"func"]],"start1":1714,"start2":1714,"length1":16,"length2":44},{"diffs":[[0,"te() {\r\n"],[1,"    // "],[0,"if (sock"]],"start1":1767,"start2":1767,"length1":16,"length2":23},{"diffs":[[0,"ansport) {\r\n"],[1,"    // "],[0,"document.get"]],"start1":1829,"start2":1829,"length1":24,"length2":31},{"diffs":[[0,"essid;\r\n"],[1,"    // "],[0,"document"]],"start1":1924,"start2":1924,"length1":16,"length2":23},{"diffs":[[0,".name;\r\n"],[1,"    // "],[0,"} else {"]],"start1":2013,"start2":2013,"length1":16,"length2":23},{"diffs":[[0,"else {\r\n"],[1,"    // "],[0,"document"]],"start1":2030,"start2":2030,"length1":16,"length2":23},{"diffs":[[0,"= '-';\r\n"],[1,"    // "],[0,"document"]],"start1":2094,"start2":2094,"length1":16,"length2":23},{"diffs":[[0,"';\r\n"],[-1,"}\r\n}\r\n"],[1,"    // }\r\n    // }\r\n    // "],[0,"setI"]],"start1":2162,"start2":2162,"length1":14,"length2":35},{"diffs":[[0,"te, 10);"],[-1,"\r\n\r\n"],[1,"    \r\n    "],[0,"</script"]],"start1":2209,"start2":2209,"length1":20,"length2":26},{"diffs":[[0,"ead>\r\n\r\n"],[1,"<!-- "],[0,"<body on"]],"start1":2241,"start2":2241,"length1":16,"length2":21},{"diffs":[[0,"nect()\">"],[-1,"\r\n<p>\r\n"],[1," -->\r\n<body>\r\n    <!--<p>\r\n    "],[0,"<label s"]],"start1":2271,"start2":2271,"length1":23,"length2":47},{"diffs":[[0,"label>\r\n"],[1,"    "],[0,"</p>\r\n"],[1,"    "],[0,"<p>Sessi"]],"start1":2387,"start2":2387,"length1":22,"length2":30},{"diffs":[[0,"n></p>\r\n"],[1,"    "],[0,"<p>Trans"]],"start1":2450,"start2":2450,"length1":16,"length2":20},{"diffs":[[0,"n></p>\r\n"],[-1,"\r\n"],[1,"    \r\n    "],[0,"<p>\r\n"],[1,"    "],[0,"<label>M"]],"start1":2503,"start2":2503,"length1":23,"length2":35},{"diffs":[[0,"label>\r\n"],[1,"    "],[0,"<input t"]],"start1":2597,"start2":2597,"length1":16,"length2":20},{"diffs":[[0,"\">\r\n"],[1,"    "],[0,"</p>\r\n"],[-1,"\r\n"],[1,"    \r\n    "],[0,"<p>\r\n"],[1,"    "],[0,"<inp"]],"start1":2656,"start2":2656,"length1":21,"length2":37},{"diffs":[[0,"()\" />\r\n"],[1,"    "],[0,"<input t"]],"start1":2749,"start2":2749,"length1":16,"length2":20},{"diffs":[[0,"/>\r\n"],[-1,"</p>\r\n\r\n"],[1,"    </p>    \r\n    "],[0,"<pre"]],"start1":2819,"start2":2819,"length1":16,"length2":26},{"diffs":[[0,"g:</pre>"],[1,"-->"],[0,"\r\n</body"]],"start1":2857,"start2":2857,"length1":16,"length2":19}]],"length":2886,"saved":false}
{"ts":1365504752931,"patch":[[{"diffs":[[0,"<body>\r\n"],[1,"<h1>Loic Truchot</h1>\r\n<span>Parcours et actualit√©</span>\r\n"],[0,"    <!--"]],"start1":2285,"start2":2285,"length1":16,"length2":75}]],"length":2945,"saved":false}
{"ts":1365504815303,"patch":[[{"diffs":[[0,"\r\n<h1>Lo"],[-1,"i"],[1,"&iuml;"],[0,"c Trucho"]],"start1":2291,"start2":2291,"length1":17,"length2":22}]],"length":2950,"saved":false}
