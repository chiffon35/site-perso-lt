{"ts":1368963766601,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1368963896078,"patch":[[{"diffs":[[1,"PS.Joeur = (function () {\n    //©2013 Loïc TRUCHOT\n    //Outils requis : LT_TOOLS.oSvgHelper\n    //Outils requis : LT_TOOLS.oMathHelper\n    //Outils requis : LT_TOOLS.oStringHelper\n    //Outils requis : LT_TOOLS.oErrorHelper\n    \n    \"use strict\";\n    //constantes de classe\n    SpiderGraph.NB_AXES_MIN = 3;\n    SpiderGraph.NB_AXES_MAX = 10;\n    SpiderGraph.NB_ECHELONS_MIN = 3;\n    SpiderGraph.NB_ECHELONS_MAX = 10;\n    SpiderGraph.NB_AIRES_MIN = 1;\n    SpiderGraph.NB_AIRES_MAX = 3;\n    \n    //variables de classe\n    SpiderGraph.nombre = 0;\n    \n    function SpiderGraph (iTailleCadreSvg, tabAxes, tabEchelons, tabAires, sTitre, bLegende) {\n        \n        //Références à LT TOOLS\n        this.oMath = LT_TOOLS.oMathHelper;\n        this.oSvg = LT_TOOLS.oSvgHelper;\n        this.oString = LT_TOOLS.oStringHelper;\n        this.oError = LT_TOOLS.oErrorHelper;\n        \n        //gestion des erreurs\n        this.tabMsgErreur = [];\n        \n        //elements obligatoires\n        this.iTailleCadreSvg = this.oError.confirmerTypePropriete(this.tabMsgErreur, iTailleCadreSvg, \"number\", \"la taille du graphique doit être saisie\");\n        this.tabAxes = this.oError.confirmerTypePropriete(this.tabMsgErreur, tabAxes, \"array\", \"il faut définir entre \" + SpiderGraph.NB_AXES_MIN + \" et \" + SpiderGraph.NB_AXES_MAX + \" axes au graphique\");\n        \n        //elements subsidiaires\n        this.tabEchelons = tabEchelons || [];\n        this.tabAires = tabAires || [];\n        this.sTitre = sTitre || \"\";\n        this.bLegende = bLegende || false;\n        \n        \n        //données statistiques        \n        this.iNbAxes = this.tabAxes.length;        \n        this.iNbEchelons = this.tabEchelons.length;        \n        \n        //données géométriques        \n        this.iTailleDemiCadre = iTailleCadreSvg / 2;\n        this.iTailleMargeInterne = 0.5 * this.iTailleCadreSvg;        \n        this.sTailleCadreSvgCoteEnPx = this.iTailleCadreSvg + \"px\";\n        this.iTailleAxe = (this.iTailleCadreSvg - this.iTailleMargeInterne)  / 2;\n        \n                \n        //données géométriques calculées\n        this.iTailleAngle = 360 / this.iNbAxes;        \n        this.iQuotienY1 = this.oMath.arrondir(- (this.iTailleAxe / (this.iNbEchelons -1)), 2);\n        this.iQuotienY2 = this.oMath.arrondir(this.iQuotienY1 * this.oMath.cosinus(this.iTailleAngle), 2);\n        this.iQuotienX2 = this.oMath.arrondir(this.iQuotienY1 * this.oMath.sinus(this.iTailleAngle), 2);\n        this.tabCoordonnees = this.calculerMatriceCoordonnees();\n        \n        \n        //données DOM/SVG calculées      \n        this.sIdSvgCadre = \"spiderGraph\" + SpiderGraph.nombre; \n        \n        //construction du graphique\n        this.sGraphiqueSvg = this.creerGraphiqueSvg();\n        this.nodeGraphiqueSvg = this.oSvg.parser(this.sGraphiqueSvg);\n        \n        //rapport d'erreurs\n        this.oError.enregistrerErreurs(this.tabMsgErreur, this.sNomObjet);\n        \n        //action sur les variables de classe\n        SpiderGraph.nombre++; \n        \n    }    \n    SpiderGraph.prototype = {        \n        creerGraphiqueSvg : function () {\n            var sGraphique = \"\";\n            var sDefs = this.creerGraphDefinition();\n        \n            //titre\n            sGraphique += this.ecrireGraphTitre();\n            \n            //Contenu\n            if (sDefs !== \"\") {\n                sGraphique += sDefs;\n                sGraphique += \"\\t\" + '<g transform=\"translate(' + this.iTailleDemiCadre + ', ' + this.iTailleDemiCadre + ')\">' + \"\\n\";\n                sGraphique += this.creerRotationDesDefinitions();\n                sGraphique += this.dessinerGraphAires();\n                sGraphique += this.ecrireGraphEchelons();\n                sGraphique += this.ecrireGraphAxes();\n                sGraphique += \"\\t\" + '</g>' + \"\\n\";\n            }\n           \n            \n            //Legende            \n            sGraphique += this.ecrireGraphLegende();\n            \n            sGraphique = this.insererDansEltSvg(sGraphique);\n            \n            return sGraphique;\n        },\n        insererDansEltSvg : function (sContenuSvg) {\n            \n            //---------- debut variables -----------\n            var sEltSvg = \"\";\n            var sEnteteSvg = \"\";\n            var sPiedSvg = \"\"; \n            var tabAttributs = {                               \n                \"version\" : \"1.1\",\n                \"xmlns:xlink\"  : \"http://www.w3.org/1999/xlink\",\n                \"xmlns\" : \"http://www.w3.org/2000/svg\",\n                \"class\" : \"SpiderGraph\",\n                \"height\" : this.sTailleCadreSvgCoteEnPx,\n                \"width\" : this.sTailleCadreSvgCoteEnPx,\n                \"id\" : this.sIdSvgCadre                \n            }; \n            //---------- fin variables -----------\n            \n            \n            //---------- debut procédure ------------\n            //entete\n            sEnteteSvg += '<svg';\n            for (var cleAttr in tabAttributs) {\n                sEnteteSvg += ' ' + cleAttr + '=\"' + tabAttributs[cleAttr] + '\"';\n            }       \n            sEnteteSvg += '>' + \"\\n\";\n            \n            //pied\n            sPiedSvg += '</svg>' + \"\\n\";  \n            \n            //element final\n            sEltSvg = sEnteteSvg + sContenuSvg + sPiedSvg;\n            //---------- fin procédure ------------\n            \n            return sEltSvg;            \n        },\n        creerGraphDefinition : function () {\n            var sDefs = \"\";\n            var sAxePrimaire = this.dessinerDefAxePrimaire();\n            if (sAxePrimaire !== \"\") {\n                sDefs += \"\\t\" + '<defs>' + \"\\n\";\n                sDefs += \"\\t\\t\" + '<g id=\"toile\">' + \"\\n\";            \n                sDefs += sAxePrimaire;  \n                sDefs += this.dessinerDefEchelonsPrimaires();            \n                sDefs += \"\\t\\t\" + '</g>' + \"\\n\";\n                sDefs += \"\\t\" + '</defs>' + \"\\n\";\n            }\n            return sDefs;\n        },        \n        dessinerDefAxePrimaire : function () {\n            var sAxePrimaire = \"\";\n            if (this.iNbAxes >= SpiderGraph.NB_AXES_MIN && this.iNbAxes <= SpiderGraph.NB_AXES_MAX) {\n                sAxePrimaire += \"\\t\\t\\t\" + '<line class=\"rayon\" y2=\"' + ( - this.iTailleAxe)  +'\"/>' + \"\\n\"; \n            }\n            return sAxePrimaire;\n        },\n        dessinerDefEchelonsPrimaires : function () {\n            var sEchelonsPrimaires = \"\";\n            if (this.iNbEchelons >= SpiderGraph.NB_ECHELONS_MIN && this.iNbEchelons <= SpiderGraph.NB_ECHELONS_MAX) {\n                var iX2 = this.iQuotienX2;\n                var iY1 = this.iQuotienY1;\n                var iY2 = this.iQuotienY2;\n                for (var cpt = 0; cpt < (this.iNbEchelons - 1); cpt++) {\n                   sEchelonsPrimaires += \"\\t\\t\\t\" + '<line x1=\"0\" x2=\"' + iX2 + '\" y1=\"' + iY1 + '\" y2=\"' + iY2 + '\" />' + \"\\n\"; \n                    iX2 += this.iQuotienX2;\n                    iY1 += this.iQuotienY1;\n                    iY2 += this.iQuotienY2;\n                } \n            }\n            return sEchelonsPrimaires;            \n        },\n        creerRotationDesDefinitions : function () {\n            var sRotations = \"\";\n            var iRotation = 0;\n            for (var cleAxes in this.tabAxes) {                \n                sRotations += \"\\t\\t\" + '<use xlink:href=\"#toile\" transform=\"rotate(' + iRotation + ')\" />' + \"\\n\";\n                iRotation += this.iTailleAngle;\n            }       \n            return sRotations;\n        },\n        dessinerGraphAires : function () {\n            var sAires = \"\";\n            for (var cleAire in this.tabAires) {\n                sAires += '<polygon style=\"stroke:' + this.tabAires[cleAire][0] + ';\" ';\n                var sPoints = \"\";\n                var tabAireEchelon = this.tabAires[cleAire][1];\n                for (var iAxe in tabAireEchelon) {                    \n                    var iEchelon = tabAireEchelon[iAxe];\n                    sPoints += this.tabCoordonnees[iAxe][iEchelon].x   + \",\" + this.tabCoordonnees[iAxe][iEchelon].y + \" \";                    \n                }\n                sAires += 'points=\"' + sPoints + '\" />';\n            }\n            return sAires;\n        },\n        ecrireGraphTitre : function () {\n            var sTitre = \"\";\n            if (this.sTitre !== \"\") {\n                sTitre += \"\\t\" + '<g transform=\"translate(' + this.iTailleDemiCadre + ' 25)\"  id=\"titre\">' + \"\\n\";\n                sTitre += \"\\t\\t\" + '<text>' + this.sTitre + '</text>' + \"\\n\"; \n                sTitre +=  \"\\t\" + '</g>' + \"\\n\";\n            }\n            return sTitre;            \n        },\n        ecrireGraphEchelons : function () {\n            var sNomsDesValeurs = \"\";\n            sNomsDesValeurs += \"\\t\\t\" + '<g id=\"valeurs\">' + \"\\n\";\n            var iY = 0;            \n            for (var sEchelon in this.tabEchelons) {\n                sNomsDesValeurs += \"\\t\\t\\t\" + '<text x=\"5\" y=\"' + (iY + 3) + '\">' + this.tabEchelons[sEchelon] + '</text>' + \"\\n\";\n                iY += this.iQuotienY1;\n            }\n            sNomsDesValeurs += \"\\t\\t\" + '</g>' + \"\\n\";\n            return sNomsDesValeurs;\n        },\n        ecrireGraphAxes : function () {\n            var sNomsDesAxes = \"\";            \n            sNomsDesAxes = '<g id=\"labels\">';\n            var cptAxe = 0;\n            for (var iAxe in this.tabAxes) {\n                var iX = this.tabCoordonnees[cptAxe][this.iNbEchelons - 1].x;\n                var iY = this.tabCoordonnees[cptAxe][this.iNbEchelons - 1].y;                \n                var tabPlusieursMots = [];\n                var sNomAxe = this.tabAxes[iAxe];\n                \n                //ajustement du nombre de ligne du texte\n                if (iX !== 0) {\n                    tabPlusieursMots = this.oString.decouperMotsParLongueur(sNomAxe, 12, \" \");\n                } \n                else {\n                    tabPlusieursMots[0] = sNomAxe;\n                }\n                \n                //ajustement de l'emplacement du texte\n                //Nord\n                var sStyleModificateur = \"\";\n                if (iX === 0 && iY < 0) {\n                        iY -= 15;                     \n                }\n                //Sud\n                else if (iX === 0 && iY > 0) {\n                iY += 15; \n                }\n                //Est\n                else if (iX > 0) {\n                    iX += 5;\n                    iY += 5;\n                    sStyleModificateur = 'style=\"text-anchor:start;\"';\n                }\n                //Ouest\n                else if (iX < 0) {\n                    iX -= 5;\n                    iY += 5;\n                    sStyleModificateur = 'style=\"text-anchor:end;\"';\n                }                 \n                for (var cleMot in tabPlusieursMots) {\n                    if (cleMot > 0) {\n                        iY += 12;\n                    }\n                    sNomsDesAxes += \"\\t\\t\\t\" + '<text x=\"' + iX + '\" y=\"' + iY + '\" ' + sStyleModificateur +  ' >' + tabPlusieursMots[cleMot] + '</text>' + \"\\n\";                      \n                }  \n                cptAxe++;  \n            }\n            sNomsDesAxes += \"</g>\";\n            return sNomsDesAxes;\n        },\n        ecrireGraphLegende : function () {\n            var sLegende = \"\";\n            if (this.bLegende) {\n                sLegende += \"\\t\" + '<g transform=\"translate(' + (this.iTailleMargeInterne / 4) + ' ' + (this.iTailleCadreSvg - (this.iTailleMargeInterne / 4)) + ')\"  id=\"legende\">' + \"\\n\";\n                var iY = 0;\n                for (var cleAire in this.tabAires) {\n                    sLegende += \"\\t\\t\" + '<line style=\"stroke:' + this.tabAires[cleAire][0] + ';\" y1=\"' + iY + '\" y2=\"' + iY + '\" x2=\"20\" />' + \"\\n\";\n                    sLegende += \"\\t\\t\" + '<text x=\"30\" y=\"' + (iY + 3) + '\">' + cleAire + '</text>' + \"\\n\";\n                    iY += 15;\n                }\n                sLegende +=  \"\\t\" + '</g>' + \"\\n\";\n            }\n            return sLegende;\n        },\n        calculerMatriceCoordonnees : function () {\n            var tabCoordonnees = [];\n            var iXEnRotation = 0;\n            var iYEnRotation = this.iQuotienY1;\n            \n            //échelons de l'axe 0\n            tabCoordonnees[0] = [];\n            for (var iEchelonDeLAxe0 = 0; iEchelonDeLAxe0 < this.iNbEchelons; iEchelonDeLAxe0++) {\n                tabCoordonnees[0][iEchelonDeLAxe0] = { \"x\" : 0, \"y\" : this.oMath.arrondir(this.iQuotienY1 * iEchelonDeLAxe0, 2)}; \n            }\n            \n            //échelons des autres axes par rotation\n            for (var iAxe = 1; iAxe < this.iNbAxes; iAxe++){                \n                tabCoordonnees[iAxe] = []; \n                for (var iEchelon = 0; iEchelon < this.iNbEchelons; iEchelon++) {\n                    \n                    //récupération des valeur d'échelon sur l'axe précédent\n                    iXEnRotation = tabCoordonnees[iAxe-1][iEchelon].x;\n                    iYEnRotation = tabCoordonnees[iAxe-1][iEchelon].y;\n                    \n                    //rotation des valeurs\n                    var iX = (iXEnRotation * this.oMath.cosinus(this.iTailleAngle)) - (iYEnRotation  * this.oMath.sinus(this.iTailleAngle));\n                    var iY = (iXEnRotation * this.oMath.sinus(this.iTailleAngle)) + (iYEnRotation  * this.oMath.cosinus(this.iTailleAngle));\n                    iXEnRotation = this.oMath.arrondir(iX, 2);\n                    iYEnRotation = this.oMath.arrondir(iY, 2);                                       \n                    tabCoordonnees[iAxe][iEchelon] = { \"x\" : iXEnRotation, \"y\" : iYEnRotation};                    \n                }                 \n            }\n            return tabCoordonnees;\n        }\n    }; \n    return SpiderGraph;\n} ());"]],"start1":0,"start2":0,"length1":0,"length2":13735}]],"length":13735,"saved":false}
{"ts":1368963899920,"patch":[[{"diffs":[[0,"PS.Jo"],[1,"u"],[0,"eur = (f"]],"start1":0,"start2":0,"length1":13,"length2":14}]],"length":13736,"saved":false}
{"ts":1368963988282,"patch":[[{"diffs":[[0," //O"],[-1,"utils requis : LT_TOOLS.oSvgHelper\n    //Outils requis : LT_TOOLS.oMathHelper\n    //Outils requis : LT_TOOLS.oStringHelper\n    //Outils requis : LT_TOOLS.oErrorHelper\n    \n    \"use strict\";\n    //constantes de classe\n    SpiderGraph.NB_AXES_MIN = 3;\n    SpiderGraph.NB_AXES_MAX = 10;\n    SpiderGraph.NB_ECHELONS_MIN = 3;\n    SpiderGraph.NB_ECHELONS_MAX = 10;\n    SpiderGraph.NB_AIRES_MIN = 1;\n    SpiderGraph.NB_AIRES_MAX = 3;"],[1,"bjet requis : PS\n    \n    \"use strict\";\n    //constantes de classe\n    Joueur.NB_MAX = 4;\n"],[0,"\n   "]],"start1":55,"start2":55,"length1":434,"length2":98},{"diffs":[[0," classe\n    "],[-1,"SpiderGraph"],[1,"Joueur"],[0,".nombre = 0;"]],"start1":173,"start2":173,"length1":35,"length2":30}]],"length":13395,"saved":false}
{"ts":1368963993320,"patch":[[{"diffs":[[0,"unction "],[-1,"SpiderGraph"],[1,"Joueur"],[0," (iTaill"]],"start1":214,"start2":214,"length1":27,"length2":22}]],"length":13390,"saved":false}
{"ts":1368964009696,"patch":[[{"diffs":[[0,"ur ("],[-1,"iTailleCadreSvg, tabAxes, tabEchelons, tabAires, sTitre, bLegende"],[1,"sPays"],[0,") {\n"]],"start1":226,"start2":226,"length1":73,"length2":13}]],"length":13330,"saved":false}
{"ts":1368964033642,"patch":[[{"diffs":[[0,"s à "],[-1,"LT TOOL"],[1,"P"],[0,"S\n  "]],"start1":267,"start2":267,"length1":15,"length2":9},{"diffs":[[0," PS\n        "],[1,"//"],[0,"this.oMath ="]],"start1":270,"start2":270,"length1":24,"length2":26},{"diffs":[[0,"er;\n"],[-1,"        this.oSvg = LT_TOOLS.oSvgHelper;\n        this.oString = LT_TOOLS.oStringHelper;\n        this.oError = LT_TOOLS.oErrorHelper;\n"],[0,"    "]],"start1":315,"start2":315,"length1":141,"length2":8}]],"length":13193,"saved":false}
{"ts":1368964039020,"patch":[[{"diffs":[[0,"erreurs\n        "],[1,"//"],[0,"this.tabMsgErreu"]],"start1":350,"start2":350,"length1":32,"length2":34}]],"length":13195,"saved":false}
{"ts":1368964073060,"patch":[[{"diffs":[[0,"   this."],[-1,"iTailleCadreSvg"],[1,"sPays"],[0," = this."]],"start1":438,"start2":438,"length1":31,"length2":21},{"diffs":[[0,"Erreur, "],[-1,"iTailleCadreSvg"],[1,"sPays"],[0,", \"numbe"]],"start1":500,"start2":500,"length1":31,"length2":21}]],"length":13175,"saved":false}
{"ts":1368964087003,"patch":[[{"diffs":[[0,"s, \""],[-1,"number"],[1,"string"],[0,"\", \""]],"start1":512,"start2":512,"length1":14,"length2":14}]],"length":13175,"saved":false}
{"ts":1368964122852,"patch":[[{"diffs":[[0,"\", \""],[-1,"la taille du graphique"],[1,"un pays"],[0," doi"]],"start1":522,"start2":522,"length1":30,"length2":15},{"diffs":[[0,"tre "],[-1,"sa"],[1,"cho"],[0,"isi"],[-1,"e"],[0,"\");\n"]],"start1":540,"start2":540,"length1":14,"length2":14},{"diffs":[[0,"    "],[-1,"  this.tabAxes = this.oError.confirmerTypePropriete(this.tabMsgErreur, tabAxes, \"array\", \"il faut définir entre \" + SpiderGraph.NB_AXES_MIN + \" et \" + SpiderGraph.NB_AXES_MAX + \" axes au graphique\");\n"],[0,"    "]],"start1":556,"start2":556,"length1":208,"length2":8},{"diffs":[[0,"diaires\n        "],[1,"//"],[0,"this.tabEchelons"]],"start1":593,"start2":593,"length1":32,"length2":34},{"diffs":[[0,"[];\n"],[-1,"        this.tabAires = tabAires || [];\n        this.sTitre = sTitre || \"\";\n        this.bLegende = bLegende || false;"],[0,"\n   "]],"start1":645,"start2":645,"length1":126,"length2":8}]],"length":12844,"saved":false}
{"ts":1368964147558,"patch":[[{"diffs":[[0,"s || [];"],[-1,"\n\n"],[0,"        "]],"start1":640,"start2":640,"length1":18,"length2":16},{"diffs":[[0,"        "],[-1,"SpiderGraph"],[1,"Joueur"],[0,".nombre+"]],"start1":2094,"start2":2094,"length1":27,"length2":22}]],"length":12837,"saved":false}
{"ts":1368964169521,"patch":[[{"diffs":[[0," du "],[-1,"graphique"],[1,"joueur"],[0,"\n   "]],"start1":1789,"start2":1789,"length1":17,"length2":14}]],"length":12834,"saved":false}
{"ts":1368964182938,"patch":[[{"diffs":[[0,"   this."],[-1,"sGraphiqueSvg"],[1,"oJoueur"],[0," = this."]],"start1":1805,"start2":1805,"length1":29,"length2":23}]],"length":12828,"saved":false}
{"ts":1368964189091,"patch":[[{"diffs":[[0,"is.creer"],[-1,"GraphiqueSvg"],[1,"Joueur"],[0,"();\n    "]],"start1":1825,"start2":1825,"length1":28,"length2":22}]],"length":12822,"saved":false}
{"ts":1368964241088,"patch":[[{"diffs":[[0,"    "],[-1,"\n        //données statistiques        \n        this.iNbAxes = this.tabAxes.length;        \n        this.iNbEchelons = this.tabEchelons.length;        \n        \n        //données géométriques        \n        this.iTailleDemiCadre = iTailleCadreSvg / 2;\n        this.iTailleMargeInterne = 0.5 * this.iTailleCadreSvg;        \n        this.sTailleCadreSvgCoteEnPx = this.iTailleCadreSvg + \"px\";\n        this.iTailleAxe = (this.iTailleCadreSvg - this.iTailleMargeInterne)  / 2;\n        \n                \n        //données géométriques calculées\n        this.iTailleAngle = 360 / this.iNbAxes;        \n        this.iQuotienY1 = this.oMath.arrondir(- (this.iTailleAxe / (this.iNbEchelons -1)), 2);\n        this.iQuotienY2 = this.oMath.arrondir(this.iQuotienY1 * this.oMath.cosinus(this.iTailleAngle), 2);\n        this.iQuotienX2 = this.oMath.arrondir(this.iQuotienY1 * this.oMath.sinus(this.iTailleAngle), 2);\n        this.tabCoordonnees = this.calculerMatriceCoordonnees();\n        \n        \n        //données DOM/SVG calculées      \n        this.sIdSvgCadre = \"spiderGraph\" + SpiderGraph.nombre; \n"],[0,"    "]],"start1":661,"start2":661,"length1":1101,"length2":8},{"diffs":[[0,"   \n    "],[-1,"SpiderGraph"],[1,"Joueur"],[0,".prototy"]],"start1":1027,"start2":1027,"length1":27,"length2":22}]],"length":11724,"saved":false}
{"ts":1368964255628,"patch":[[{"diffs":[[0,"   creer"],[-1,"GraphiqueSvg "],[1,"Joeur"],[0,": functi"]],"start1":1069,"start2":1069,"length1":29,"length2":21}]],"length":11716,"saved":false}
{"ts":1368964268470,"patch":[[{"diffs":[[0," return "],[-1,"sGraphique"],[1,"oJoeur"],[0,";\n      "]],"start1":2014,"start2":2014,"length1":26,"length2":22}]],"length":11712,"saved":false}
{"ts":1368964283060,"patch":[[{"diffs":[[0," creerJo"],[1,"u"],[0,"eur: fun"]],"start1":1071,"start2":1071,"length1":16,"length2":17},{"diffs":[[0,"    var "],[-1,"sGraphique"],[1,"oJoueur"],[0," = \"\";\n "]],"start1":1107,"start2":1107,"length1":26,"length2":23}]],"length":11710,"saved":false}
{"ts":1368964290577,"patch":[[{"diffs":[[0,"    "],[-1," var sDefs = this.creerGraphDefinition();\n        \n            //titre\n            sGraphique += this.ecrireGraphTitre();\n            \n            //Contenu\n            if (sDefs !== \"\") {\n                sGraphique += sDefs;\n                sGraphique += \"\\t\" + '<g transform=\"translate(' + this.iTailleDemiCadre + ', ' + this.iTailleDemiCadre + ')\">' + \"\\n\";\n                sGraphique += this.creerRotationDesDefinitions();\n                sGraphique += this.dessinerGraphAires();\n                sGraphique += this.ecrireGraphEchelons();\n                sGraphique += this.ecrireGraphAxes();\n                sGraphique += \"\\t\" + '</g>' + \"\\n\";\n            }\n           \n            \n            //Legende            \n            sGraphique += this.ecrireGraphLegende();\n            \n            sGraphique = this.insererDansEltSvg(sGraphique);\n            "],[0,"\n   "]],"start1":1136,"start2":1136,"length1":868,"length2":8},{"diffs":[[0,"turn oJo"],[1,"u"],[0,"eur;\n   "]],"start1":1155,"start2":1155,"length1":16,"length2":17}]],"length":10851,"saved":false}
{"ts":1368964295186,"patch":[[{"diffs":[[0,"r oJoueur = "],[-1,"\"\""],[1,"{}"],[0,";\n          "]],"start1":1113,"start2":1113,"length1":26,"length2":26}]],"length":10851,"saved":false}
{"ts":1368964337607,"patch":[[{"diffs":[[0,"ur = {};"],[-1,"\n"],[0,"        "]],"start1":1120,"start2":1120,"length1":17,"length2":16},{"diffs":[[0,"   }"],[-1,",\n"],[0,"       "],[-1," insererDansEltSvg : function (sContenuSvg) {\n            \n            //---------- debut variables -----------\n            var sEltSvg = \"\";\n            var sEnteteSvg = \"\";\n            var sPiedSvg = \"\"; \n            var tabAttributs = {                               \n                \"version\" : \"1.1\",\n                \"xmlns:xlink\"  : \"http://www.w3.org/1999/xlink\",\n                \"xmlns\" : \"http://www.w3.org/2000/svg\",\n                \"class\" : \"SpiderGraph\",\n                \"height\" : this.sTailleCadreSvgCoteEnPx,\n                \"width\" : this.sTailleCadreSvgCoteEnPx,\n                \"id\" : this.sIdSvgCadre                \n            }; \n            //---------- fin variables -----------\n            \n            \n            //---------- debut procédure ------------\n            //entete\n            sEnteteSvg += '<svg';\n            for (var cleAttr in tabAttributs) {\n                sEnteteSvg += ' ' + cleAttr + '=\"' + tabAttributs[cleAttr] + '\"';\n            }       \n            sEnteteSvg += '>' + \"\\n\";\n            \n            //pied\n            sPiedSvg += '</svg>' + \"\\n\";  \n            \n            //element final\n            sEltSvg = sEnteteSvg + sContenuSvg + sPiedSvg;\n            //---------- fin procédure ------------\n            \n            return sEltSvg;            \n        },\n        creerGraphDefinition : function () {\n            var sDefs = \"\";\n            var sAxePrimaire = this.dessinerDefAxePrimaire();\n            if (sAxePrimaire !== \"\") {\n                sDefs += \"\\t\" + '<defs>' + \"\\n\";\n                sDefs += \"\\t\\t\" + '<g id=\"toile\">' + \"\\n\";            \n                sDefs += sAxePrimaire;  \n                sDefs += this.dessinerDefEchelonsPrimaires();            \n                sDefs += \"\\t\\t\" + '</g>' + \"\\n\";\n                sDefs += \"\\t\" + '</defs>' + \"\\n\";\n            }\n            return sDefs;\n        },        \n        dessinerDefAxePrimaire : function () {\n            var sAxePrimaire = \"\";\n            if (this.iNbAxes >= SpiderGraph.NB_AXES_MIN && this.iNbAxes <= SpiderGraph.NB_AXES_MAX) {\n                sAxePrimaire += \"\\t\\t\\t\" + '<line class=\"rayon\" y2=\"' + ( - this.iTailleAxe)  +'\"/>' + \"\\n\"; \n            }\n            return sAxePrimaire;\n        },\n        dessinerDefEchelonsPrimaires : function () {\n            var sEchelonsPrimaires = \"\";\n            if (this.iNbEchelons >= SpiderGraph.NB_ECHELONS_MIN && this.iNbEchelons <= SpiderGraph.NB_ECHELONS_MAX) {\n                var iX2 = this.iQuotienX2;\n                var iY1 = this.iQuotienY1;\n                var iY2 = this.iQuotienY2;\n                for (var cpt = 0; cpt < (this.iNbEchelons - 1); cpt++) {\n                   sEchelonsPrimaires += \"\\t\\t\\t\" + '<line x1=\"0\" x2=\"' + iX2 + '\" y1=\"' + iY1 + '\" y2=\"' + iY2 + '\" />' + \"\\n\"; \n                    iX2 += this.iQuotienX2;\n                    iY1 += this.iQuotienY1;\n                    iY2 += this.iQuotienY2;\n                } \n            }\n            return sEchelonsPrimaires;            \n        },\n        creerRotationDesDefinitions : function () {\n            var sRotations = \"\";\n            var iRotation = 0;\n            for (var cleAxes in this.tabAxes) {                \n                sRotations += \"\\t\\t\" + '<use xlink:href=\"#toile\" transform=\"rotate(' + iRotation + ')\" />' + \"\\n\";\n                iRotation += this.iTailleAngle;\n            }       \n            return sRotations;\n        },\n        dessinerGraphAires : function () {\n            var sAires = \"\";\n            for (var cleAire in this.tabAires) {\n                sAires += '<polygon style=\"stroke:' + this.tabAires[cleAire][0] + ';\" ';\n                var sPoints = \"\";\n                var tabAireEchelon = this.tabAires[cleAire][1];\n                for (var iAxe in tabAireEchelon) {                    \n                    var iEchelon = tabAireEchelon[iAxe];\n                    sPoints += this.tabCoordonnees[iAxe][iEchelon].x   + \",\" + this.tabCoordonnees[iAxe][iEchelon].y + \" \";                    \n                }\n                sAires += 'points=\"' + sPoints + '\" />';\n            }\n            return sAires;\n        },\n        ecrireGraphTitre : function () {\n            var sTitre = \"\";\n            if (this.sTitre !== \"\") {\n                sTitre += \"\\t\" + '<g transform=\"translate(' + this.iTailleDemiCadre + ' 25)\"  id=\"titre\">' + \"\\n\";\n                sTitre += \"\\t\\t\" + '<text>' + this.sTitre + '</text>' + \"\\n\"; \n                sTitre +=  \"\\t\" + '</g>' + \"\\n\";\n            }\n            return sTitre;            \n        },\n        ecrireGraphEchelons : function () {\n            var sNomsDesValeurs = \"\";\n            sNomsDesValeurs += \"\\t\\t\" + '<g id=\"valeurs\">' + \"\\n\";\n            var iY = 0;            \n            for (var sEchelon in this.tabEchelons) {\n                sNomsDesValeurs += \"\\t\\t\\t\" + '<text x=\"5\" y=\"' + (iY + 3) + '\">' + this.tabEchelons[sEchelon] + '</text>' + \"\\n\";\n                iY += this.iQuotienY1;\n            }\n            sNomsDesValeurs += \"\\t\\t\" + '</g>' + \"\\n\";\n            return sNomsDesValeurs;\n        },\n        ecrireGraphAxes : function () {\n            var sNomsDesAxes = \"\";            \n            sNomsDesAxes = '<g id=\"labels\">';\n            var cptAxe = 0;\n            for (var iAxe in this.tabAxes) {\n                var iX = this.tabCoordonnees[cptAxe][this.iNbEchelons - 1].x;\n                var iY = this.tabCoordonnees[cptAxe][this.iNbEchelons - 1].y;                \n                var tabPlusieursMots = [];\n                var sNomAxe = this.tabAxes[iAxe];\n                \n                //ajustement du nombre de ligne du texte\n                if (iX !== 0) {\n                    tabPlusieursMots = this.oString.decouperMotsParLongueur(sNomAxe, 12, \" \");\n                } \n                else {\n                    tabPlusieursMots[0] = sNomAxe;\n                }\n                \n                //ajustement de l'emplacement du texte\n                //Nord\n                var sStyleModificateur = \"\";\n                if (iX === 0 && iY < 0) {\n                        iY -= 15;                     \n                }\n                //Sud\n                else if (iX === 0 && iY > 0) {\n                iY += 15; \n                }\n                //Est\n                else if (iX > 0) {\n                    iX += 5;\n                    iY += 5;\n                    sStyleModificateur = 'style=\"text-anchor:start;\"';\n                }\n                //Ouest\n                else if (iX < 0) {\n                    iX -= 5;\n                    iY += 5;\n                    sStyleModificateur = 'style=\"text-anchor:end;\"';\n                }                 \n                for (var cleMot in tabPlusieursMots) {\n                    if (cleMot > 0) {\n                        iY += 12;\n                    }\n                    sNomsDesAxes += \"\\t\\t\\t\" + '<text x=\"' + iX + '\" y=\"' + iY + '\" ' + sStyleModificateur +  ' >' + tabPlusieursMots[cleMot] + '</text>' + \"\\n\";                      \n                }  \n                cptAxe++;  \n            }\n            sNomsDesAxes += \"</g>\";\n            return sNomsDesAxes;\n        },\n        ecrireGraphLegende : function () {\n            var sLegende = \"\";\n            if (this.bLegende) {\n                sLegende += \"\\t\" + '<g transform=\"translate(' + (this.iTailleMargeInterne / 4) + ' ' + (this.iTailleCadreSvg - (this.iTailleMargeInterne / 4)) + ')\"  id=\"legende\">' + \"\\n\";\n                var iY = 0;\n                for (var cleAire in this.tabAires) {\n                    sLegende += \"\\t\\t\" + '<line style=\"stroke:' + this.tabAires[cleAire][0] + ';\" y1=\"' + iY + '\" y2=\"' + iY + '\" x2=\"20\" />' + \"\\n\";\n                    sLegende += \"\\t\\t\" + '<text x=\"30\" y=\"' + (iY + 3) + '\">' + cleAire + '</text>' + \"\\n\";\n                    iY += 15;\n                }\n                sLegende +=  \"\\t\" + '</g>' + \"\\n\";\n            }\n            return sLegende;\n        },\n        calculerMatriceCoordonnees : function () {\n            var tabCoordonnees = [];\n            var iXEnRotation = 0;\n            var iYEnRotation = this.iQuotienY1;\n            \n            //échelons de l'axe 0\n            tabCoordonnees[0] = [];\n            for (var iEchelonDeLAxe0 = 0; iEchelonDeLAxe0 < this.iNbEchelons; iEchelonDeLAxe0++) {\n                tabCoordonnees[0][iEchelonDeLAxe0] = { \"x\" : 0, \"y\" : this.oMath.arrondir(this.iQuotienY1 * iEchelonDeLAxe0, 2)}; \n            }\n            \n            //échelons des autres axes par rotation\n            for (var iAxe = 1; iAxe < this.iNbAxes; iAxe++){                \n                tabCoordonnees[iAxe] = []; \n                for (var iEchelon = 0; iEchelon < this.iNbEchelons; iEchelon++) {\n                    \n                    //récupération des valeur d'échelon sur l'axe précédent\n                    iXEnRotation = tabCoordonnees[iAxe-1][iEchelon].x;\n                    iYEnRotation = tabCoordonnees[iAxe-1][iEchelon].y;\n                    \n                    //rotation des valeurs\n                    var iX = (iXEnRotation * this.oMath.cosinus(this.iTailleAngle)) - (iYEnRotation  * this.oMath.sinus(this.iTailleAngle));\n                    var iY = (iXEnRotation * this.oMath.sinus(this.iTailleAngle)) + (iYEnRotation  * this.oMath.cosinus(this.iTailleAngle));\n                    iXEnRotation = this.oMath.arrondir(iX, 2);\n                    iYEnRotation = this.oMath.arrondir(iY, 2);                                       \n                    tabCoordonnees[iAxe][iEchelon] = { \"x\" : iXEnRotation, \"y\" : iYEnRotation};                    \n                }                 \n            }\n            return tabCoordonnees;\n        }\n    }; \n    return SpiderGraph"],[1,"\n    }; \n    return Joueur"],[0,";\n} "]],"start1":1173,"start2":1173,"length1":9673,"length2":41}]],"length":1218,"saved":false}
{"ts":1368964449194,"patch":[[{"diffs":[[0,"    "],[-1,"//"],[0,"this.o"],[-1,"Math"],[1,"Error"],[0," = L"]],"start1":278,"start2":278,"length1":20,"length2":19},{"diffs":[[0,"LS.o"],[-1,"Math"],[1,"Error"],[0,"Help"]],"start1":302,"start2":302,"length1":12,"length2":13}]],"length":1218,"saved":false}
{"ts":1368964455559,"patch":[[{"diffs":[[0,"r = "],[-1,"LT_TOOL"],[1,"P"],[0,"S.oE"]],"start1":292,"start2":292,"length1":15,"length2":9}]],"length":1212,"saved":false}
{"ts":1368964470967,"patch":[[{"diffs":[[0,"erreurs\n        "],[-1,"//"],[0,"this.tabMsgErreu"]],"start1":344,"start2":344,"length1":34,"length2":32}]],"length":1210,"saved":false}
{"ts":1368964565366,"patch":[[{"diffs":[[0,"Helper;\n"],[1,"        this.oDebug = PS.oDebugHelper;\n"],[0,"        "]],"start1":305,"start2":305,"length1":16,"length2":55}]],"length":1249,"saved":false}
{"contributors":[],"silentsave":false,"ts":1368969783226,"patch":[[{"diffs":[[0,"TRUCHOT\n"],[1,"    //NameSpace requis : LTTOoLS\n    "],[0,"    //Ob"]],"start1":44,"start2":44,"length1":16,"length2":53},{"diffs":[[0,"jet "],[-1,"r"],[1,"R"],[0,"equis : "],[-1,"PS"],[1,"oDebugHelper, oErrorHelper"],[0,"\n   "]],"start1":97,"start2":97,"length1":19,"length2":43}]],"length":1310,"saved":false}
{"ts":1368969811266,"patch":[[{"diffs":[[0,"rHelper\n"],[1,"    //NameSpace requis\n"],[0,"    \n   "]],"start1":129,"start2":129,"length1":16,"length2":39},{"diffs":[[0,"Error = "],[-1,"P"],[1,"LTTOoL"],[0,"S.oError"]],"start1":372,"start2":372,"length1":17,"length2":22},{"diffs":[[0,"Debug = "],[-1,"P"],[1,"LTTOoL"],[0,"S.oDebug"]],"start1":416,"start2":416,"length1":17,"length2":22}]],"length":1343,"saved":false}
{"ts":1368969833704,"patch":[[{"diffs":[[0," //Objet"],[1,"s"],[0," Requis "]],"start1":92,"start2":92,"length1":16,"length2":17},{"diffs":[[0,"e requis"],[1," : PS\n        //Objets Requis : "],[0,"\n    \n  "]],"start1":152,"start2":152,"length1":16,"length2":48}]],"length":1376,"saved":false}
{"ts":1368969847202,"patch":[[{"diffs":[[0,"Requis :"],[-1," "],[0,"\n    \n  "]],"start1":183,"start2":183,"length1":17,"length2":16},{"diffs":[[0,"trict\";\n"],[1,"    \n"],[0,"    //co"]],"start1":207,"start2":207,"length1":16,"length2":21},{"diffs":[[0,"AX = 4;\n"],[-1,"\n"],[0,"    \n   "]],"start1":262,"start2":262,"length1":17,"length2":16}]],"length":1379,"saved":false}
