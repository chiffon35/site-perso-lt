{"ts":1368972569748,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1368972689393,"patch":[[{"diffs":[[1,"PS.MenuMinistere = (function () {\n    //©2013 Loïc TRUCHOT\n    //Outils requis : LT_TOOLS.oSvgHelper\n    //Outils requis : LT_TOOLS.oMathHelper\n    //Outils requis : LT_TOOLS.oStringHelper\n    //Outils requis : LT_TOOLS.oErrorHelper\n    \n    \"use strict\";\n    //constantes de classe\n    SpiderGraph.NB_AXES_MIN = 3;\n    SpiderGraph.NB_AXES_MAX = 10;\n    SpiderGraph.NB_ECHELONS_MIN = 3;\n    SpiderGraph.NB_ECHELONS_MAX = 10;\n    SpiderGraph.NB_AIRES_MIN = 1;\n    SpiderGraph.NB_AIRES_MAX = 3;\n    \n    //variables de classe\n    SpiderGraph.nombre = 0;\n    \n    function SpiderGraph (iTailleCadreSvg, tabAxes, tabEchelons, tabAires, sTitre, bLegende) {\n        \n        //Références à LT TOOLS\n        this.oMath = LT_TOOLS.oMathHelper;\n        this.oSvg = LT_TOOLS.oSvgHelper;\n        this.oString = LT_TOOLS.oStringHelper;\n        this.oError = LT_TOOLS.oErrorHelper;\n        \n        //gestion des erreurs\n        this.tabMsgErreur = [];\n        \n        //elements obligatoires\n        this.iTailleCadreSvg = this.oError.confirmerTypePropriete(this.tabMsgErreur, iTailleCadreSvg, \"number\", \"la taille du graphique doit être saisie\");\n        this.tabAxes = this.oError.confirmerTypePropriete(this.tabMsgErreur, tabAxes, \"array\", \"il faut définir entre \" + SpiderGraph.NB_AXES_MIN + \" et \" + SpiderGraph.NB_AXES_MAX + \" axes au graphique\");\n        \n        //elements subsidiaires\n        this.tabEchelons = tabEchelons || [];\n        this.tabAires = tabAires || [];\n        this.sTitre = sTitre || \"\";\n        this.bLegende = bLegende || false;\n        \n        \n        //données statistiques        \n        this.iNbAxes = this.tabAxes.length;        \n        this.iNbEchelons = this.tabEchelons.length;        \n        \n        //données géométriques        \n        this.iTailleDemiCadre = iTailleCadreSvg / 2;\n        this.iTailleMargeInterne = 0.5 * this.iTailleCadreSvg;        \n        this.sTailleCadreSvgCoteEnPx = this.iTailleCadreSvg + \"px\";\n        this.iTailleAxe = (this.iTailleCadreSvg - this.iTailleMargeInterne)  / 2;\n        \n                \n        //données géométriques calculées\n        this.iTailleAngle = 360 / this.iNbAxes;        \n        this.iQuotienY1 = this.oMath.arrondir(- (this.iTailleAxe / (this.iNbEchelons -1)), 2);\n        this.iQuotienY2 = this.oMath.arrondir(this.iQuotienY1 * this.oMath.cosinus(this.iTailleAngle), 2);\n        this.iQuotienX2 = this.oMath.arrondir(this.iQuotienY1 * this.oMath.sinus(this.iTailleAngle), 2);\n        this.tabCoordonnees = this.calculerMatriceCoordonnees();\n        \n        \n        //données DOM/SVG calculées      \n        this.sIdSvgCadre = \"spiderGraph\" + SpiderGraph.nombre; \n        \n        //construction du graphique\n        this.sGraphiqueSvg = this.creerGraphiqueSvg();\n        this.nodeGraphiqueSvg = this.oSvg.parser(this.sGraphiqueSvg);\n        \n        //rapport d'erreurs\n        this.oError.enregistrerErreurs(this.tabMsgErreur, this.sNomObjet);\n        \n        //action sur les variables de classe\n        SpiderGraph.nombre++; \n        \n    }    \n    SpiderGraph.prototype = {        \n        creerGraphiqueSvg : function () {\n            var sGraphique = \"\";\n            var sDefs = this.creerGraphDefinition();\n        \n            //titre\n            sGraphique += this.ecrireGraphTitre();\n            \n            //Contenu\n            if (sDefs !== \"\") {\n                sGraphique += sDefs;\n                sGraphique += \"\\t\" + '<g transform=\"translate(' + this.iTailleDemiCadre + ', ' + this.iTailleDemiCadre + ')\">' + \"\\n\";\n                sGraphique += this.creerRotationDesDefinitions();\n                sGraphique += this.dessinerGraphAires();\n                sGraphique += this.ecrireGraphEchelons();\n                sGraphique += this.ecrireGraphAxes();\n                sGraphique += \"\\t\" + '</g>' + \"\\n\";\n            }\n           \n            \n            //Legende            \n            sGraphique += this.ecrireGraphLegende();\n            \n            sGraphique = this.insererDansEltSvg(sGraphique);\n            \n            return sGraphique;\n        },\n        insererDansEltSvg : function (sContenuSvg) {\n            \n            //---------- debut variables -----------\n            var sEltSvg = \"\";\n            var sEnteteSvg = \"\";\n            var sPiedSvg = \"\"; \n            var tabAttributs = {                               \n                \"version\" : \"1.1\",\n                \"xmlns:xlink\"  : \"http://www.w3.org/1999/xlink\",\n                \"xmlns\" : \"http://www.w3.org/2000/svg\",\n                \"class\" : \"SpiderGraph\",\n                \"height\" : this.sTailleCadreSvgCoteEnPx,\n                \"width\" : this.sTailleCadreSvgCoteEnPx,\n                \"id\" : this.sIdSvgCadre                \n            }; \n            //---------- fin variables -----------\n            \n            \n            //---------- debut procédure ------------\n            //entete\n            sEnteteSvg += '<svg';\n            for (var cleAttr in tabAttributs) {\n                sEnteteSvg += ' ' + cleAttr + '=\"' + tabAttributs[cleAttr] + '\"';\n            }       \n            sEnteteSvg += '>' + \"\\n\";\n            \n            //pied\n            sPiedSvg += '</svg>' + \"\\n\";  \n            \n            //element final\n            sEltSvg = sEnteteSvg + sContenuSvg + sPiedSvg;\n            //---------- fin procédure ------------\n            \n            return sEltSvg;            \n        },\n        creerGraphDefinition : function () {\n            var sDefs = \"\";\n            var sAxePrimaire = this.dessinerDefAxePrimaire();\n            if (sAxePrimaire !== \"\") {\n                sDefs += \"\\t\" + '<defs>' + \"\\n\";\n                sDefs += \"\\t\\t\" + '<g id=\"toile\">' + \"\\n\";            \n                sDefs += sAxePrimaire;  \n                sDefs += this.dessinerDefEchelonsPrimaires();            \n                sDefs += \"\\t\\t\" + '</g>' + \"\\n\";\n                sDefs += \"\\t\" + '</defs>' + \"\\n\";\n            }\n            return sDefs;\n        },        \n        dessinerDefAxePrimaire : function () {\n            var sAxePrimaire = \"\";\n            if (this.iNbAxes >= SpiderGraph.NB_AXES_MIN && this.iNbAxes <= SpiderGraph.NB_AXES_MAX) {\n                sAxePrimaire += \"\\t\\t\\t\" + '<line class=\"rayon\" y2=\"' + ( - this.iTailleAxe)  +'\"/>' + \"\\n\"; \n            }\n            return sAxePrimaire;\n        },\n        dessinerDefEchelonsPrimaires : function () {\n            var sEchelonsPrimaires = \"\";\n            if (this.iNbEchelons >= SpiderGraph.NB_ECHELONS_MIN && this.iNbEchelons <= SpiderGraph.NB_ECHELONS_MAX) {\n                var iX2 = this.iQuotienX2;\n                var iY1 = this.iQuotienY1;\n                var iY2 = this.iQuotienY2;\n                for (var cpt = 0; cpt < (this.iNbEchelons - 1); cpt++) {\n                   sEchelonsPrimaires += \"\\t\\t\\t\" + '<line x1=\"0\" x2=\"' + iX2 + '\" y1=\"' + iY1 + '\" y2=\"' + iY2 + '\" />' + \"\\n\"; \n                    iX2 += this.iQuotienX2;\n                    iY1 += this.iQuotienY1;\n                    iY2 += this.iQuotienY2;\n                } \n            }\n            return sEchelonsPrimaires;            \n        },\n        creerRotationDesDefinitions : function () {\n            var sRotations = \"\";\n            var iRotation = 0;\n            for (var cleAxes in this.tabAxes) {                \n                sRotations += \"\\t\\t\" + '<use xlink:href=\"#toile\" transform=\"rotate(' + iRotation + ')\" />' + \"\\n\";\n                iRotation += this.iTailleAngle;\n            }       \n            return sRotations;\n        },\n        dessinerGraphAires : function () {\n            var sAires = \"\";\n            for (var cleAire in this.tabAires) {\n                sAires += '<polygon style=\"stroke:' + this.tabAires[cleAire][0] + ';\" ';\n                var sPoints = \"\";\n                var tabAireEchelon = this.tabAires[cleAire][1];\n                for (var iAxe in tabAireEchelon) {                    \n                    var iEchelon = tabAireEchelon[iAxe];\n                    sPoints += this.tabCoordonnees[iAxe][iEchelon].x   + \",\" + this.tabCoordonnees[iAxe][iEchelon].y + \" \";                    \n                }\n                sAires += 'points=\"' + sPoints + '\" />';\n            }\n            return sAires;\n        },\n        ecrireGraphTitre : function () {\n            var sTitre = \"\";\n            if (this.sTitre !== \"\") {\n                sTitre += \"\\t\" + '<g transform=\"translate(' + this.iTailleDemiCadre + ' 25)\"  id=\"titre\">' + \"\\n\";\n                sTitre += \"\\t\\t\" + '<text>' + this.sTitre + '</text>' + \"\\n\"; \n                sTitre +=  \"\\t\" + '</g>' + \"\\n\";\n            }\n            return sTitre;            \n        },\n        ecrireGraphEchelons : function () {\n            var sNomsDesValeurs = \"\";\n            sNomsDesValeurs += \"\\t\\t\" + '<g id=\"valeurs\">' + \"\\n\";\n            var iY = 0;            \n            for (var sEchelon in this.tabEchelons) {\n                sNomsDesValeurs += \"\\t\\t\\t\" + '<text x=\"5\" y=\"' + (iY + 3) + '\">' + this.tabEchelons[sEchelon] + '</text>' + \"\\n\";\n                iY += this.iQuotienY1;\n            }\n            sNomsDesValeurs += \"\\t\\t\" + '</g>' + \"\\n\";\n            return sNomsDesValeurs;\n        },\n        ecrireGraphAxes : function () {\n            var sNomsDesAxes = \"\";            \n            sNomsDesAxes = '<g id=\"labels\">';\n            var cptAxe = 0;\n            for (var iAxe in this.tabAxes) {\n                var iX = this.tabCoordonnees[cptAxe][this.iNbEchelons - 1].x;\n                var iY = this.tabCoordonnees[cptAxe][this.iNbEchelons - 1].y;                \n                var tabPlusieursMots = [];\n                var sNomAxe = this.tabAxes[iAxe];\n                \n                //ajustement du nombre de ligne du texte\n                if (iX !== 0) {\n                    tabPlusieursMots = this.oString.decouperMotsParLongueur(sNomAxe, 12, \" \");\n                } \n                else {\n                    tabPlusieursMots[0] = sNomAxe;\n                }\n                \n                //ajustement de l'emplacement du texte\n                //Nord\n                var sStyleModificateur = \"\";\n                if (iX === 0 && iY < 0) {\n                        iY -= 15;                     \n                }\n                //Sud\n                else if (iX === 0 && iY > 0) {\n                iY += 15; \n                }\n                //Est\n                else if (iX > 0) {\n                    iX += 5;\n                    iY += 5;\n                    sStyleModificateur = 'style=\"text-anchor:start;\"';\n                }\n                //Ouest\n                else if (iX < 0) {\n                    iX -= 5;\n                    iY += 5;\n                    sStyleModificateur = 'style=\"text-anchor:end;\"';\n                }                 \n                for (var cleMot in tabPlusieursMots) {\n                    if (cleMot > 0) {\n                        iY += 12;\n                    }\n                    sNomsDesAxes += \"\\t\\t\\t\" + '<text x=\"' + iX + '\" y=\"' + iY + '\" ' + sStyleModificateur +  ' >' + tabPlusieursMots[cleMot] + '</text>' + \"\\n\";                      \n                }  \n                cptAxe++;  \n            }\n            sNomsDesAxes += \"</g>\";\n            return sNomsDesAxes;\n        },\n        ecrireGraphLegende : function () {\n            var sLegende = \"\";\n            if (this.bLegende) {\n                sLegende += \"\\t\" + '<g transform=\"translate(' + (this.iTailleMargeInterne / 4) + ' ' + (this.iTailleCadreSvg - (this.iTailleMargeInterne / 4)) + ')\"  id=\"legende\">' + \"\\n\";\n                var iY = 0;\n                for (var cleAire in this.tabAires) {\n                    sLegende += \"\\t\\t\" + '<line style=\"stroke:' + this.tabAires[cleAire][0] + ';\" y1=\"' + iY + '\" y2=\"' + iY + '\" x2=\"20\" />' + \"\\n\";\n                    sLegende += \"\\t\\t\" + '<text x=\"30\" y=\"' + (iY + 3) + '\">' + cleAire + '</text>' + \"\\n\";\n                    iY += 15;\n                }\n                sLegende +=  \"\\t\" + '</g>' + \"\\n\";\n            }\n            return sLegende;\n        },\n        calculerMatriceCoordonnees : function () {\n            var tabCoordonnees = [];\n            var iXEnRotation = 0;\n            var iYEnRotation = this.iQuotienY1;\n            \n            //échelons de l'axe 0\n            tabCoordonnees[0] = [];\n            for (var iEchelonDeLAxe0 = 0; iEchelonDeLAxe0 < this.iNbEchelons; iEchelonDeLAxe0++) {\n                tabCoordonnees[0][iEchelonDeLAxe0] = { \"x\" : 0, \"y\" : this.oMath.arrondir(this.iQuotienY1 * iEchelonDeLAxe0, 2)}; \n            }\n            \n            //échelons des autres axes par rotation\n            for (var iAxe = 1; iAxe < this.iNbAxes; iAxe++){                \n                tabCoordonnees[iAxe] = []; \n                for (var iEchelon = 0; iEchelon < this.iNbEchelons; iEchelon++) {\n                    \n                    //récupération des valeur d'échelon sur l'axe précédent\n                    iXEnRotation = tabCoordonnees[iAxe-1][iEchelon].x;\n                    iYEnRotation = tabCoordonnees[iAxe-1][iEchelon].y;\n                    \n                    //rotation des valeurs\n                    var iX = (iXEnRotation * this.oMath.cosinus(this.iTailleAngle)) - (iYEnRotation  * this.oMath.sinus(this.iTailleAngle));\n                    var iY = (iXEnRotation * this.oMath.sinus(this.iTailleAngle)) + (iYEnRotation  * this.oMath.cosinus(this.iTailleAngle));\n                    iXEnRotation = this.oMath.arrondir(iX, 2);\n                    iYEnRotation = this.oMath.arrondir(iY, 2);                                       \n                    tabCoordonnees[iAxe][iEchelon] = { \"x\" : iXEnRotation, \"y\" : iYEnRotation};                    \n                }                 \n            }\n            return tabCoordonnees;\n        }\n    }; \n    return SpiderGraph;\n} ()); "]],"start1":0,"start2":0,"length1":0,"length2":13744}]],"length":13744,"saved":false}
{"ts":1368972758209,"patch":[[{"diffs":[[0,"    "],[-1,"SpiderGraph.NB_AXES_MIN = 3;\n    SpiderGraph.NB_AXES_MAX = 10;\n    SpiderGraph.NB_ECHELONS_MIN = 3;\n    SpiderGraph.NB_ECHELONS_MAX = 10;\n    SpiderGraph.NB_AIRES_MIN = 1;\n    SpiderGraph.NB_AIRES_MAX"],[1,"MenuMinistere.NB_AXES_MIN"],[0," = 3"]],"start1":283,"start2":283,"length1":208,"length2":33},{"diffs":[[0," classe\n    "],[-1,"SpiderGraph"],[1,"MenuMinistere"],[0,".nombre = 0;"]],"start1":341,"start2":341,"length1":35,"length2":37},{"diffs":[[0,"unction "],[-1,"SpiderGraph"],[1,"MenuMinistere"],[0," (iTaill"]],"start1":389,"start2":389,"length1":27,"length2":29}]],"length":13573,"saved":false}
{"ts":1368972812422,"patch":[[{"diffs":[[0,"re ("],[-1,"iTailleCadreSvg, tabAxes, tabEchelons, tabAires, sTitre, bLegende) {\n        \n        //Références à LT TOOLS\n        this.oMath = LT_TOOLS.oMathHelper;\n        this.oSvg = LT_TOOLS.oSvgHelper;"],[1,") {\n        \n        //Références à LT TOOLS"],[0,"\n   "]],"start1":408,"start2":408,"length1":201,"length2":52},{"diffs":[[0,"er;\n"],[-1,"        this.oError = LT_TOOLS.oErrorHelper;\n"],[0,"    "]],"start1":500,"start2":500,"length1":53,"length2":8},{"diffs":[[0,"atoires\n        "],[1,"//"],[0,"this.iTailleCadr"]],"start1":608,"start2":608,"length1":32,"length2":34},{"diffs":[[0,"    "],[-1," this.tabAxes = this.oError.confirmerTypePropriete(this.tabMsgErreur, tabAxes, \"array\", \"il faut définir entre \" + SpiderGraph.NB_AXES_MIN + \" et \" + SpiderGraph.NB_AXES_MAX + \" axes au graphique\");\n"],[0,"    "]],"start1":777,"start2":777,"length1":207,"length2":8},{"diffs":[[0,"diaires\n        "],[1,"//"],[0,"this.tabEchelons"]],"start1":814,"start2":814,"length1":32,"length2":34},{"diffs":[[0," [];"],[-1,"\n"],[0,"        "],[-1,"this.tabAires = tabAires || [];\n        this.sTitre = sTitre || \"\";\n        this.bLegende = bLegende || false;\n        \n        \n        //données statistiques        \n        this.iNbAxes = this.tabAxes.length;        \n        this.iNbEchelons = this.tabEchelons.length;        \n        \n        //données géométriques        \n        this.iTailleDemiCadre = iTailleCadreSvg / 2;\n        this.iTailleMargeInterne = 0.5 * this.iTailleCadreSvg;        \n        this.sTailleCadreSvgCoteEnPx = this.iTailleCadreSvg + \"px\";\n        this.iTailleAxe = (this.iTailleCadreSvg - this.iTailleMargeInterne)  / 2;\n        \n                \n        //données géométriques calculées\n        this.iTailleAngle = 360 / this.iNbAxes;        \n        this.iQuotienY1 = this.oMath.arrondir(- (this.iTailleAxe / (this.iNbEchelons -1)), 2);\n        this.iQuotienY2 = this.oMath.arrondir(this.iQuotienY1 * this.oMath.cosinus(this.iTailleAngle), 2);\n        this.iQuotienX2 = this.oMath.arrondir(this.iQuotienY1 * this.oMath.sinus(this.iTailleAngle), 2);\n        this.tabCoordonnees = this.calculerMatriceCoordonnees();\n        \n        \n        //données DOM/SVG calculées      \n        this.sIdSvgCadre = \"spiderGraph\" + SpiderGraph.nombre; \n        \n        //construction du graphique"],[1,"    \n        \n    \n        \n        //construction du menu"],[0,"\n   "]],"start1":865,"start2":865,"length1":1282,"length2":74}]],"length":11976,"saved":false}
{"ts":1368972844737,"patch":[[{"diffs":[[0,"   }"],[-1,",\n        insererDansEltSvg : function (sContenuSvg) {\n            \n            //---------- debut variables -----------\n            var sEltSvg = \"\";\n            var sEnteteSvg = \"\";\n            var sPiedSvg = \"\"; \n            var tabAttributs = {                               \n                \"version\" : \"1.1\",\n                \"xmlns:xlink\"  : \"http://www.w3.org/1999/xlink\",\n                \"xmlns\" : \"http://www.w3.org/2000/svg\",\n                \"class\" : \"SpiderGraph\",\n                \"height\" : this.sTailleCadreSvgCoteEnPx,\n                \"width\" : this.sTailleCadreSvgCoteEnPx,\n                \"id\" : this.sIdSvgCadre                \n            }; \n            //---------- fin variables -----------\n            \n            \n            //---------- debut procédure ------------\n            //entete\n            sEnteteSvg += '<svg';\n            for (var cleAttr in tabAttributs) {\n                sEnteteSvg += ' ' + cleAttr + '=\"' + tabAttributs[cleAttr] + '\"';\n            }       \n            sEnteteSvg += '>' + \"\\n\";\n            \n            //pied\n            sPiedSvg += '</svg>' + \"\\n\";  \n            \n            //element final\n            sEltSvg = sEnteteSvg + sContenuSvg + sPiedSvg;\n            //---------- fin procédure ------------\n            \n            return sEltSvg;            \n        },\n        creerGraphDefinition : function () {\n            var sDefs = \"\";\n            var sAxePrimaire = this.dessinerDefAxePrimaire();\n            if (sAxePrimaire !== \"\") {\n                sDefs += \"\\t\" + '<defs>' + \"\\n\";\n                sDefs += \"\\t\\t\" + '<g id=\"toile\">' + \"\\n\";            \n                sDefs += sAxePrimaire;  \n                sDefs += this.dessinerDefEchelonsPrimaires();            \n                sDefs += \"\\t\\t\" + '</g>' + \"\\n\";\n                sDefs += \"\\t\" + '</defs>' + \"\\n\";\n            }\n            return sDefs;\n        },        \n        dessinerDefAxePrimaire : function () {\n            var sAxePrimaire = \"\";\n            if (this.iNbAxes >= SpiderGraph.NB_AXES_MIN && this.iNbAxes <= SpiderGraph.NB_AXES_MAX) {\n                sAxePrimaire += \"\\t\\t\\t\" + '<line class=\"rayon\" y2=\"' + ( - this.iTailleAxe)  +'\"/>' + \"\\n\"; \n            }\n            return sAxePrimaire;\n        },\n        dessinerDefEchelonsPrimaires : function () {\n            var sEchelonsPrimaires = \"\";\n            if (this.iNbEchelons >= SpiderGraph.NB_ECHELONS_MIN && this.iNbEchelons <= SpiderGraph.NB_ECHELONS_MAX) {\n                var iX2 = this.iQuotienX2;\n                var iY1 = this.iQuotienY1;\n                var iY2 = this.iQuotienY2;\n                for (var cpt = 0; cpt < (this.iNbEchelons - 1); cpt++) {\n                   sEchelonsPrimaires += \"\\t\\t\\t\" + '<line x1=\"0\" x2=\"' + iX2 + '\" y1=\"' + iY1 + '\" y2=\"' + iY2 + '\" />' + \"\\n\"; \n                    iX2 += this.iQuotienX2;\n                    iY1 += this.iQuotienY1;\n                    iY2 += this.iQuotienY2;\n                } \n            }\n            return sEchelonsPrimaires;            \n        },\n        creerRotationDesDefinitions : function () {\n            var sRotations = \"\";\n            var iRotation = 0;\n            for (var cleAxes in this.tabAxes) {                \n                sRotations += \"\\t\\t\" + '<use xlink:href=\"#toile\" transform=\"rotate(' + iRotation + ')\" />' + \"\\n\";\n                iRotation += this.iTailleAngle;\n            }       \n            return sRotations;\n        },\n        dessinerGraphAires : function () {\n            var sAires = \"\";\n            for (var cleAire in this.tabAires) {\n                sAires += '<polygon style=\"stroke:' + this.tabAires[cleAire][0] + ';\" ';\n                var sPoints = \"\";\n                var tabAireEchelon = this.tabAires[cleAire][1];\n                for (var iAxe in tabAireEchelon) {                    \n                    var iEchelon = tabAireEchelon[iAxe];\n                    sPoints += this.tabCoordonnees[iAxe][iEchelon].x   + \",\" + this.tabCoordonnees[iAxe][iEchelon].y + \" \";                    \n                }\n                sAires += 'points=\"' + sPoints + '\" />';\n            }\n            return sAires;\n        },\n        ecrireGraphTitre : function () {\n            var sTitre = \"\";\n            if (this.sTitre !== \"\") {\n                sTitre += \"\\t\" + '<g transform=\"translate(' + this.iTailleDemiCadre + ' 25)\"  id=\"titre\">' + \"\\n\";\n                sTitre += \"\\t\\t\" + '<text>' + this.sTitre + '</text>' + \"\\n\"; \n                sTitre +=  \"\\t\" + '</g>' + \"\\n\";\n            }\n            return sTitre;            \n        },\n        ecrireGraphEchelons : function () {\n            var sNomsDesValeurs = \"\";\n            sNomsDesValeurs += \"\\t\\t\" + '<g id=\"valeurs\">' + \"\\n\";\n            var iY = 0;            \n            for (var sEchelon in this.tabEchelons) {\n                sNomsDesValeurs += \"\\t\\t\\t\" + '<text x=\"5\" y=\"' + (iY + 3) + '\">' + this.tabEchelons[sEchelon] + '</text>' + \"\\n\";\n                iY += this.iQuotienY1;\n            }\n            sNomsDesValeurs += \"\\t\\t\" + '</g>' + \"\\n\";\n            return sNomsDesValeurs;\n        },\n        ecrireGraphAxes : function () {\n            var sNomsDesAxes = \"\";            \n            sNomsDesAxes = '<g id=\"labels\">';\n            var cptAxe = 0;\n            for (var iAxe in this.tabAxes) {\n                var iX = this.tabCoordonnees[cptAxe][this.iNbEchelons - 1].x;\n                var iY = this.tabCoordonnees[cptAxe][this.iNbEchelons - 1].y;                \n                var tabPlusieursMots = [];\n                var sNomAxe = this.tabAxes[iAxe];\n                \n                //ajustement du nombre de ligne du texte\n                if (iX !== 0) {\n                    tabPlusieursMots = this.oString.decouperMotsParLongueur(sNomAxe, 12, \" \");\n                } \n                else {\n                    tabPlusieursMots[0] = sNomAxe;\n                }\n                \n                //ajustement de l'emplacement du texte\n                //Nord\n                var sStyleModificateur = \"\";\n                if (iX === 0 && iY < 0) {\n                        iY -= 15;                     \n                }\n                //Sud\n                else if (iX === 0 && iY > 0) {\n                iY += 15; \n                }\n                //Est\n                else if (iX > 0) {\n                    iX += 5;\n                    iY += 5;\n                    sStyleModificateur = 'style=\"text-anchor:start;\"';\n                }\n                //Ouest\n                else if (iX < 0) {\n                    iX -= 5;\n                    iY += 5;\n                    sStyleModificateur = 'style=\"text-anchor:end;\"';\n                }                 \n                for (var cleMot in tabPlusieursMots) {\n                    if (cleMot > 0) {\n                        iY += 12;\n                    }\n                    sNomsDesAxes += \"\\t\\t\\t\" + '<text x=\"' + iX + '\" y=\"' + iY + '\" ' + sStyleModificateur +  ' >' + tabPlusieursMots[cleMot] + '</text>' + \"\\n\";                      \n                }  \n                cptAxe++;  \n            }\n            sNomsDesAxes += \"</g>\";\n            return sNomsDesAxes;\n        },\n        ecrireGraphLegende : function () {\n            var sLegende = \"\";\n            if (this.bLegende) {\n                sLegende += \"\\t\" + '<g transform=\"translate(' + (this.iTailleMargeInterne / 4) + ' ' + (this.iTailleCadreSvg - (this.iTailleMargeInterne / 4)) + ')\"  id=\"legende\">' + \"\\n\";\n                var iY = 0;\n                for (var cleAire in this.tabAires) {\n                    sLegende += \"\\t\\t\" + '<line style=\"stroke:' + this.tabAires[cleAire][0] + ';\" y1=\"' + iY + '\" y2=\"' + iY + '\" x2=\"20\" />' + \"\\n\";\n                    sLegende += \"\\t\\t\" + '<text x=\"30\" y=\"' + (iY + 3) + '\">' + cleAire + '</text>' + \"\\n\";\n                    iY += 15;\n                }\n                sLegende +=  \"\\t\" + '</g>' + \"\\n\";\n            }\n            return sLegende;\n        },\n        calculerMatriceCoordonnees : function () {\n            var tabCoordonnees = [];\n            var iXEnRotation = 0;\n            var iYEnRotation = this.iQuotienY1;\n            \n            //échelons de l'axe 0\n            tabCoordonnees[0] = [];\n            for (var iEchelonDeLAxe0 = 0; iEchelonDeLAxe0 < this.iNbEchelons; iEchelonDeLAxe0++) {\n                tabCoordonnees[0][iEchelonDeLAxe0] = { \"x\" : 0, \"y\" : this.oMath.arrondir(this.iQuotienY1 * iEchelonDeLAxe0, 2)}; \n            }\n            \n            //échelons des autres axes par rotation\n            for (var iAxe = 1; iAxe < this.iNbAxes; iAxe++){                \n                tabCoordonnees[iAxe] = []; \n                for (var iEchelon = 0; iEchelon < this.iNbEchelons; iEchelon++) {\n                    \n                    //récupération des valeur d'échelon sur l'axe précédent\n                    iXEnRotation = tabCoordonnees[iAxe-1][iEchelon].x;\n                    iYEnRotation = tabCoordonnees[iAxe-1][iEchelon].y;\n                    \n                    //rotation des valeurs\n                    var iX = (iXEnRotation * this.oMath.cosinus(this.iTailleAngle)) - (iYEnRotation  * this.oMath.sinus(this.iTailleAngle));\n                    var iY = (iXEnRotation * this.oMath.sinus(this.iTailleAngle)) + (iYEnRotation  * this.oMath.cosinus(this.iTailleAngle));\n                    iXEnRotation = this.oMath.arrondir(iX, 2);\n                    iYEnRotation = this.oMath.arrondir(iY, 2);                                       \n                    tabCoordonnees[iAxe][iEchelon] = { \"x\" : iXEnRotation, \"y\" : iYEnRotation};                    \n                }                 \n            }\n            return tabCoordonnees;\n        }\n    }; \n    return SpiderGraph"],[1,"      \n    }; \n    return MenuMinistere"],[0,";\n} "]],"start1":2298,"start2":2298,"length1":9673,"length2":47}]],"length":2350,"saved":false}
{"ts":1368972851826,"patch":[[{"diffs":[[0,"        "],[-1,"SpiderGraph"],[1,"MenuMinistere"],[0,".nombre+"]],"start1":1227,"start2":1227,"length1":27,"length2":29},{"diffs":[[0,"    "],[-1,"SpiderGraph"],[1,"MenuMinistere"],[0,".pro"]],"start1":1279,"start2":1279,"length1":19,"length2":21}]],"length":2354,"saved":false}
{"ts":1368972875185,"patch":[[{"diffs":[[0,"is.s"],[-1,"GraphiqueSvg = this.creerGraphiqueSvg();\n        this.nodeGraphiqueSvg = this.oSvg.parser(this.sGraphiqueSvg"],[1,"MenuMinistere = this.creerMenuMinistere("],[0,");\n "]],"start1":946,"start2":946,"length1":116,"length2":48}]],"length":2286,"saved":false}
{"ts":1368972894238,"patch":[[{"diffs":[[0,"reer"],[-1,"GraphiqueSvg"],[1,"MenuMinistere"],[0," : f"]],"start1":1260,"start2":1260,"length1":20,"length2":21}]],"length":2287,"saved":false}
{"ts":1368972899358,"patch":[[{"diffs":[[0,"   var s"],[-1,"Graphiqu"],[1,"MenuMinister"],[0,"e = \"\";\n"]],"start1":1303,"start2":1303,"length1":24,"length2":28}]],"length":2291,"saved":false}
{"ts":1368972904652,"patch":[[{"diffs":[[0," return "],[-1,"sGraphiqu"],[1,"MenuMinister"],[0,"e;\n     "]],"start1":2214,"start2":2214,"length1":25,"length2":28}]],"length":2294,"saved":false}
{"ts":1368972912723,"patch":[[{"diffs":[[0,"\"\";\n"],[-1,"            var sDefs = this.creerGraphDefinition();\n        \n            //titre\n            sGraphique += this.ecrireGraphTitre();\n            \n            //Contenu\n            if (sDefs !== \"\") {\n                sGraphique += sDefs;\n                sGraphique += \"\\t\" + '<g transform=\"translate(' + this.iTailleDemiCadre + ', ' + this.iTailleDemiCadre + ')\">' + \"\\n\";\n                sGraphique += this.creerRotationDesDefinitions();\n                sGraphique += this.dessinerGraphAires();\n                sGraphique += this.ecrireGraphEchelons();\n                sGraphique += this.ecrireGraphAxes();\n                sGraphique += \"\\t\" + '</g>' + \"\\n\";\n            }\n           \n            \n            //Legende            \n            sGraphique += this.ecrireGraphLegende();\n            \n            sGraphique = this.insererDansEltSvg(sGraphique);\n"],[0,"    "]],"start1":1327,"start2":1327,"length1":867,"length2":8}]],"length":1435,"saved":false}
{"contributors":[],"silentsave":false,"ts":1369002448666,"patch":[[{"diffs":[[0,"ing = LT"],[-1,"_"],[0,"TO"],[-1,"O"],[1,"o"],[0,"LS.oStri"]],"start1":474,"start2":474,"length1":20,"length2":19}]],"length":1434,"saved":false}
{"contributors":[],"silentsave":false,"ts":1369004564147,"patch":[[{"diffs":[[0,"Helper;\n"],[1,"        this.oError = LTTOoLS.oStringHelper;\n"],[0,"        "]],"start1":495,"start2":495,"length1":16,"length2":61}]],"length":1479,"saved":false}
{"ts":1369004569451,"patch":[[{"diffs":[[0,"rror = LTTOoLS.o"],[-1,"String"],[1,"Error"],[0,"Helper;\n        "]],"start1":518,"start2":518,"length1":38,"length2":37}]],"length":1478,"saved":false}
{"contributors":[],"silentsave":false,"ts":1369148486753,"patch":[[{"diffs":[[0,"e = "],[-1,"\"\""],[1,"'';\n            sMenuMinistere += '<div class=\"btn300\"></div>'"],[0,";\n  "]],"start1":1366,"start2":1366,"length1":10,"length2":70}]],"length":1538,"saved":false}
{"ts":1369148702158,"patch":[[{"diffs":[[0,"       creer"],[1,"HTML"],[0,"MenuMinister"]],"start1":1295,"start2":1295,"length1":24,"length2":28}]],"length":1542,"saved":false}
{"ts":1369148714409,"patch":[[{"diffs":[[0,"</div>';"],[-1,"\n"],[0,"        "]],"start1":1429,"start2":1429,"length1":17,"length2":16}]],"length":1541,"saved":false}
{"ts":1369148759786,"patch":[[{"diffs":[[0,"e = 0;\n    \n"],[1,"    this.sHtmlMenuMinistere = creerHTMLMenuMinistere();\n    \n"],[0,"    function"]],"start1":372,"start2":372,"length1":24,"length2":85}]],"length":1602,"saved":false}
{"ts":1369148763074,"patch":[[{"diffs":[[0,"         return "],[1,"s"],[0,"MenuMinistere;\n "]],"start1":1514,"start2":1514,"length1":32,"length2":33}]],"length":1603,"saved":false}
{"ts":1369148980320,"patch":[[{"diffs":[[0,"= 0;"],[-1,"\n "],[0,"   \n    "],[-1,"this.sHtmlMenuMinistere = creerHTMLMenuMinistere();"],[0,"\n   "]],"start1":374,"start2":374,"length1":69,"length2":16}]],"length":1550,"saved":false}
{"ts":1369148987261,"patch":[[{"diffs":[[0," = [];\n        \n"],[1,"        this.sHtmlMenuMinistere = creerHTMLMenuMinistere();\n        \n"],[0,"        //elemen"]],"start1":619,"start2":619,"length1":32,"length2":101}]],"length":1619,"saved":false}
{"ts":1369148991662,"patch":[[{"diffs":[[0,"  \n "],[-1,"       //elements obligatoires\n        //this.iTailleCadreSvg = this.oError.confirmerTypePropriete(this.tabMsgErreur, iTailleCadreSvg, \"number\", \"la taille du graphique doit être saisie\");\n               \n        //elements subsidiaires\n        //this.tabEchelons = tabEchelons || [];"],[0,"    "]],"start1":701,"start2":701,"length1":292,"length2":8}]],"length":1335,"saved":false}
{"ts":1369148994819,"patch":[[{"diffs":[[0,"stere = "],[1,"this."],[0,"creerHTM"]],"start1":661,"start2":661,"length1":16,"length2":21}]],"length":1340,"saved":false}
{"ts":1369149069314,"patch":[[{"diffs":[[0,"   \n"],[-1,"             \n        \n    \n        \n        //construction du menu\n        this.sMenuMinistere = this.creerMenuMinistere();\n"],[0,"    "]],"start1":705,"start2":705,"length1":133,"length2":8}]],"length":1215,"saved":false}
{"ts":1369153391464,"patch":[[{"diffs":[[0,"btn300\">"],[1,"Population, Familles et Diversité"],[0,"</div>';"]],"start1":1094,"start2":1094,"length1":16,"length2":49}]],"length":1248,"saved":false}
{"ts":1369154301198,"patch":[[{"diffs":[[0,"; \n        \n"],[1,"        //Reception\n        $(\"#menu-gauche\").html(this.sHtmlMenuMinistere);\n        \n"],[0,"    }    \n  "]],"start1":905,"start2":905,"length1":24,"length2":110}]],"length":1334,"saved":false}
{"ts":1369154375055,"patch":[[{"diffs":[[0,"ception\n"],[1,"        this.oSocket.on('iAnneeCourante', function (iAnneeCourante) {\n            self.chargerAnneeCourante(iAnneeCourante);           \n        }); \n"],[0,"        "]],"start1":929,"start2":929,"length1":16,"length2":165},{"diffs":[[0,"stere);\n"],[-1,""],[0,"        "]],"start1":1135,"start2":1135,"length1":16,"length2":16},{"diffs":[[0,"      creerH"],[-1,"TML"],[1,"tml"],[0,"MenuMinister"]],"start1":1204,"start2":1204,"length1":27,"length2":27},{"diffs":[[0,"       }"],[1,"\n"],[0,"      "],[1,"  afficherHtml"],[0,"\n    }; "]],"start1":1427,"start2":1427,"length1":22,"length2":37}]],"length":1498,"saved":false}
{"ts":1369154379919,"patch":[[{"diffs":[[0,"eerH"],[-1,"TML"],[1,"tml"],[0,"Menu"]],"start1":676,"start2":676,"length1":11,"length2":11}]],"length":1498,"saved":false}
{"ts":1369154385555,"patch":[[{"diffs":[[0,"cherHtml"],[1," : function () {\n            \n        }"],[0,"\n    }; "]],"start1":1448,"start2":1448,"length1":16,"length2":55}]],"length":1537,"saved":false}
{"ts":1369154388057,"patch":[[{"diffs":[[0,"e;\n        }"],[1,","],[0,"\n        aff"]],"start1":1423,"start2":1423,"length1":24,"length2":25}]],"length":1538,"saved":false}
{"ts":1369154397287,"patch":[[{"diffs":[[0,"    "],[-1,"$(\"#menu-gauche\").html(this.sHtmlMenuMinistere);"],[0,"\n   "]],"start1":1090,"start2":1090,"length1":56,"length2":8},{"diffs":[[0,") {\n            "],[1,"$(\"#menu-gauche\").html(this.sHtmlMenuMinistere);"],[0,"\n        }\n    }"]],"start1":1422,"start2":1422,"length1":32,"length2":80}]],"length":1538,"saved":false}
{"ts":1369154533951,"patch":[[{"diffs":[[0,"on('"],[-1,"iAnneeCourante', function (iAnneeCourante) {\n            self.chargerAnneeCourante(iAnneeCourante"],[1,"ES_Afficher_Menu_Ministere', function () {\n            self.afficherHtml("],[0,");  "]],"start1":958,"start2":958,"length1":105,"length2":81}]],"length":1514,"saved":false}
{"ts":1369154545911,"patch":[[{"diffs":[[0,"e () {\n        \n"],[1,"        var self = this;\n        \n"],[0,"        //Référe"]],"start1":417,"start2":417,"length1":32,"length2":66}]],"length":1548,"saved":false}
{"ts":1369154560681,"patch":[[{"diffs":[[0,").html(this."],[-1,"s"],[1,"creer"],[0,"HtmlMenuMini"]],"start1":1464,"start2":1464,"length1":25,"length2":29}]],"length":1552,"saved":false}
{"ts":1369154579452,"patch":[[{"diffs":[[0,"    "],[-1,"    this.sHtmlMenuMinistere = this.creerHtmlMenuMinistere();\n        "],[0,"\n   "]],"start1":669,"start2":669,"length1":77,"length2":8},{"diffs":[[0,"afficher"],[-1,"Html"],[1,"MenuMinistere"],[0," : funct"]],"start1":1338,"start2":1338,"length1":20,"length2":29}]],"length":1492,"saved":false}
{"ts":1369154588400,"patch":[[{"diffs":[[0,"afficher"],[-1,"Html"],[1,"MenuMinistere"],[0,"();     "]],"start1":987,"start2":987,"length1":20,"length2":29}]],"length":1501,"saved":false}
{"ts":1369154836253,"patch":[[{"diffs":[[0,"   this."],[1,"oSio."],[0,"oSocket."]],"start1":907,"start2":907,"length1":16,"length2":21}]],"length":1506,"saved":false}
{"ts":1369154847196,"patch":[[{"diffs":[[0,"istere ("],[1,"oSio"],[0,") {\n    "]],"start1":412,"start2":412,"length1":16,"length2":20}]],"length":1510,"saved":false}
{"ts":1369154941497,"patch":[[{"diffs":[[0,"    "],[-1,"this.oError = LTTOoLS.oErrorHelper;\n        \n        //gestion des erreurs\n        this.tabMsgErreur = [];\n        \n    \n        \n        //rapport d'erreurs\n        this.oError.enregistrerErreurs(this.tabMsgErreur, this.sNomObjet);\n"],[0,"    "],[1,"\n"],[0,"    "]],"start1":553,"start2":553,"length1":245,"length2":13}]],"length":1278,"saved":false}
{"ts":1369154952634,"patch":[[{"diffs":[[0,"HOT\n"],[-1,"    //Outils requis : LT_TOOLS.oSvgHelper\n    //Outils requis : LT_TOOLS.oMathHelper\n    //Outils requis : LT_TOOLS.oStringHelper\n    //Outils requis : LT_TOOLS.oErrorHelper\n    \n    \"use strict\";\n    //constantes de classe\n    MenuMinistere.NB_AXES_MIN = 3;\n    \n    //variables de classe\n    MenuMinistere.nombre = 0;   \n    "],[0,"\n   "]],"start1":55,"start2":55,"length1":335,"length2":8}]],"length":951,"saved":false}
{"ts":1369154955868,"patch":[[{"diffs":[[0,"TRUCHOT\n"],[-1,"\n"],[0,"    \n   "]],"start1":51,"start2":51,"length1":17,"length2":16}]],"length":950,"saved":false}
{"ts":1369154984158,"patch":[[{"diffs":[[0,"Helper;\n"],[1,"        \n        this.oSio = oSio;\n"],[0,"        "]],"start1":213,"start2":213,"length1":16,"length2":51}]],"length":985,"saved":false}
{"ts":1369155060775,"patch":[[{"diffs":[[0,"       }"],[1,",\n        supprimerMenuMinistere : function () {\n            \n        }\n        "],[0,"\n    }; "]],"start1":935,"start2":935,"length1":16,"length2":96}]],"length":1065,"saved":false}
{"ts":1369155074140,"patch":[[{"diffs":[[0,") {\n            "],[1,"$(\"#menu-gauche\").empty();"],[0,"\n        }\n     "]],"start1":988,"start2":988,"length1":32,"length2":58}]],"length":1091,"saved":false}
{"ts":1369155088264,"patch":[[{"diffs":[[0,"   }); \n"],[1,"        this.oSio.oSocket.on('ES_Supprimer_Menu_Ministere', function () {\n            self.afficherMenuMinistere();           \n        }); \n"],[0,"        "]],"start1":512,"start2":512,"length1":16,"length2":156}]],"length":1231,"saved":false}
{"ts":1369155145394,"patch":[[{"diffs":[[0,"           self."],[-1,"affich"],[1,"supprim"],[0,"erMenuMinistere("]],"start1":595,"start2":595,"length1":38,"length2":39}]],"length":1232,"saved":false}
