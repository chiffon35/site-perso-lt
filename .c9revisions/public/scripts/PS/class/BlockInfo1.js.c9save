{"ts":1369130823585,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1369130935720,"patch":[[{"diffs":[[1,"PS.BlockInfo1 = (function () { \n    \n    function Carte (oSio) {\n        \n        var self = this;\n        this.oSio = oSio;\n        \n        this.sIdCarte = \"#svg2\";\n        \n        this.sMonPays = \"\";\n        \n        this.oSio.oSocket.on('oPays', function (oPays) {            \n            self.chargerPaysDisponible(oPays);           \n        });    \n    }\n    Carte.prototype = {\n        chargerPaysDisponible : function(oPays) {\n            alert(\"chargerPaysDisponible lancée...\");\n            var self = this;\n            for (var sPays in oPays) {                \n                \n                //Appliquer disponibilité\n                var sId = this.sIdCarte + \" #\" + sPays;\n                if (sPays !== this.sMonPays) {                    \n                    if (oPays[sPays].bDisponible){\n                        $(sId)\n                        .removeClass(\"carte-pays-indisponible\")\n                        .addClass(\"carte-pays-disponible\");\n                    }\n                    else {\n                        $(sId)\n                        .removeClass(\"carte-pays-disponible\")\n                        .addClass(\"carte-pays-indisponible\");\n                    }\n                }\n            }\n            \n            //configurer indisponibles            \n            $(\".carte-pays-indisponible\")\n                .css({\"fill\" : \"red\", \"cursor\" : \"default\"})\n                .unbind('click').unbind('mouseover').unbind('mouseout');\n                \n            //configurer disponibles\n            $(\".carte-pays-disponible\").css({\"fill\" : \"green\"});\n            if (this.sMonPays === \"\") {                \n                $(\".carte-pays-disponible\").css({\"cursor\" : \"pointer\"})\n                .mouseover(function () {\n                    $(this).css({\"fill\" : \"blue\"});\n                })\n                .mouseout(function () {\n                    $(this).css({\"fill\" : \"green\"});\n                })\n                .click(function () {\n                    var oMonPays = this;\n                    var sMonPaysId = $(oMonPays).attr('id');\n                    self.oSio.chargerPays(sMonPaysId , function (error, bEstDisponible) { \n                        if (bEstDisponible) {\n                            $(\".carte-pays-disponible\").unbind('click').unbind('mouseover').unbind('mouseout').css({\"cursor\" : \"default\"});\n                            $(oMonPays).css({\"fill\" : \"blue\", \"cursor\" : \"default\"}).removeClass('carte-pays-disponible');\n                            self.sMonPays = $(oMonPays).attr(\"id\");   \n                            self.oSio.rafraichirPaysPourTous();\n                            self.oBlockInfo1.ecrireInfo(\"Vous jouez désormais \" + oPays[sMonPaysId].sNomAvecDetMin);\n                        }\n                    });               \n                });\n            }\n        }\n    };\n    return Carte;\n}());"]],"start1":0,"start2":0,"length1":0,"length2":2861}]],"length":2861,"saved":false}
{"ts":1369130946899,"patch":[[{"diffs":[[0,"ion "],[-1,"Carte (oSio"],[1,"BlockInfo1 ("],[0,") {\n"]],"start1":46,"start2":46,"length1":19,"length2":20}]],"length":2862,"saved":false}
{"ts":1369130965917,"patch":[[{"diffs":[[0,";\n  "],[-1,"      this.oSio = oSio;\n        \n        this.sIdCarte = \"#svg2\";\n        \n        this.sMonPays = \"\";\n        \n        this.oSio.oSocket.on('oPays', function (oPays) {            \n            self.chargerPaysDisponible(oPays);           \n        });    \n    }\n    Carte.prototype = {\n        chargerPaysDisponible : function(oPays) {\n            alert(\"chargerPaysDisponible lancée...\");\n            var self = this;\n            for (var sPays in oPays) {                \n                \n                //Appliquer disponibilité\n                var sId = this.sIdCarte + \" #\" + sPays;\n                if (sPays !== this.sMonPays) {                    \n                    if (oPays[sPays].bDisponible){\n                        $(sId)\n                        .removeClass(\"carte-pays-indisponible\")\n                        .addClass(\"carte-pays-disponible\");\n                    }\n                    else {\n                        $(sId)\n                        .removeClass(\"carte-pays-disponible\")\n                        .addClass(\"carte-pays-indisponible\");\n                    }\n                }\n            }\n            \n            //configurer indisponibles            \n            $(\".carte-pays-indisponible\")\n                .css({\"fill\" : \"red\", \"cursor\" : \"default\"})\n                .unbind('click').unbind('mouseover').unbind('mouseout');\n                \n            //configurer disponibles\n            $(\".carte-pays-disponible\").css({\"fill\" : \"green\"});\n            if (this.sMonPays === \"\") {                \n                $(\".carte-pays-disponible\").css({\"cursor\" : \"pointer\"})\n                .mouseover(function () {\n                    $(this).css({\"fill\" : \"blue\"});\n                })\n                .mouseout(function () {\n                    $(this).css({\"fill\" : \"green\"});\n                })\n                .click(function () {\n                    var oMonPays = this;\n                    var sMonPaysId = $(oMonPays).attr('id');\n                    self.oSio.chargerPays(sMonPaysId , function (error, bEstDisponible) { \n                        if (bEstDisponible) {\n                            $(\".carte-pays-disponible\").unbind('click').unbind('mouseover').unbind('mouseout').css({\"cursor\" : \"default\"});\n                            $(oMonPays).css({\"fill\" : \"blue\", \"cursor\" : \"default\"}).removeClass('carte-pays-disponible');\n                            self.sMonPays = $(oMonPays).attr(\"id\");   \n                            self.oSio.rafraichirPaysPourTous();\n                            self.oBlockInfo1.ecrireInfo(\"Vous jouez désormais \" + oPays[sMonPaysId].sNomAvecDetMin);\n                        }\n                    });               \n                });\n            }\n        }\n    };\n    return Carte"],[1,"\n    }\n    BlockInfo1.prototype = {\n        \n    };\n    return BlockInfo1"],[0,";\n}("]],"start1":98,"start2":98,"length1":2761,"length2":81}]],"length":182,"saved":false}
{"ts":1369131392673,"patch":[[{"diffs":[[0,"ype = {\n"],[1,"        ecrireInfo : function () {\n            \n        }\n"],[0,"        "]],"start1":130,"start2":130,"length1":16,"length2":74}]],"length":240,"saved":false}
{"ts":1369131396486,"patch":[[{"diffs":[[0,"  \n        }"],[-1,"\n"],[0,"        \n   "]],"start1":183,"start2":183,"length1":25,"length2":24}]],"length":239,"saved":false}
{"ts":1369132205245,"patch":[[{"diffs":[[0,"ckInfo1 () {"],[-1,"\n"],[0,"        \n   "]],"start1":53,"start2":53,"length1":25,"length2":24},{"diffs":[[0,"= this;\n"],[1,"        this.oBlockInfo1 = $(\"#block-info1\")\n"],[0,"  \n    }"]],"start1":91,"start2":91,"length1":16,"length2":61}]],"length":283,"saved":false}
{"ts":1369132207967,"patch":[[{"diffs":[[0,"-info1\")"],[1,";"],[0,"\n  \n    "]],"start1":135,"start2":135,"length1":16,"length2":17}]],"length":284,"saved":false}
{"ts":1369132247353,"patch":[[{"diffs":[[0,"nction ("],[1,"sMessage"],[0,") {\n    "]],"start1":206,"start2":206,"length1":16,"length2":24}]],"length":292,"saved":false}
{"ts":1369132270749,"patch":[[{"diffs":[[0,") {\n            "],[1,"this.oBlockInfo1.text(sMessage);"],[0,"\n        }      "]],"start1":222,"start2":222,"length1":32,"length2":64}]],"length":324,"saved":false}
{"ts":1369132294941,"patch":[[{"diffs":[[0,"sMessage"],[1," + \"\\n\""],[0,");\n     "]],"start1":260,"start2":260,"length1":16,"length2":23}]],"length":331,"saved":false}
{"ts":1369132383664,"patch":[[{"diffs":[[0,"sage) {\n"],[1,"            oDateCourant = new Date();\n"],[0,"        "]],"start1":218,"start2":218,"length1":16,"length2":55}]],"length":370,"saved":false}
{"ts":1369132448438,"patch":[[{"diffs":[[0,"        "],[1,"var "],[0,"oDateCou"]],"start1":230,"start2":230,"length1":16,"length2":20},{"diffs":[[0,"eCourant"],[1,"e"],[0," = new D"]],"start1":246,"start2":246,"length1":16,"length2":17},{"diffs":[[0,"o1.text("],[1,"oDateCourante.getHours() + \":\" + oDateCourante.getHours() + \" | \" +"],[0,"sMessage"]],"start1":296,"start2":296,"length1":16,"length2":83}]],"length":442,"saved":false}
{"ts":1369132455898,"patch":[[{"diffs":[[0,"Courante.get"],[-1,"Hour"],[1,"Minutes"],[0,"s() + \" | \" "]],"start1":342,"start2":342,"length1":28,"length2":31}]],"length":445,"saved":false}
{"ts":1369132457008,"patch":[[{"diffs":[[0,"tMinutes"],[-1,"s"],[0,"() + \" |"]],"start1":353,"start2":353,"length1":17,"length2":16}]],"length":444,"saved":false}
{"ts":1369132668649,"patch":[[{"diffs":[[0,"  ecrire"],[-1,"Info"],[1,"Message"],[0," : funct"]],"start1":189,"start2":189,"length1":20,"length2":23}]],"length":447,"saved":false}
{"ts":1369132896705,"patch":[[{"diffs":[[0,"fo1."],[-1,"text"],[1,"append"],[0,"(oDa"]],"start1":298,"start2":298,"length1":12,"length2":14}]],"length":449,"saved":false}
{"ts":1369133803624,"patch":[[{"diffs":[[0,"nfo1\");\n"],[1,"        \n        //Receptions\n        this.oSocket.on('iAnneeCourante', function (iAnneeCourante) {\n            self.chargerAnneeCourante(iAnneeCourante);           \n        });    \n"],[0,"  \n    }"]],"start1":137,"start2":137,"length1":16,"length2":198}]],"length":631,"saved":false}
{"ts":1369133809126,"patch":[[{"diffs":[[0,"ket.on('"],[-1,"iAnneeCourant"],[1,"sMessag"],[0,"e', func"]],"start1":192,"start2":192,"length1":29,"length2":23}]],"length":625,"saved":false}
{"ts":1369133820821,"patch":[[{"diffs":[[0,"nction ("],[-1,"iAnneeCourant"],[1,"sMessag"],[0,"e) {\n   "]],"start1":213,"start2":213,"length1":29,"length2":23}]],"length":619,"saved":false}
{"ts":1369133837864,"patch":[[{"diffs":[[0,"elf."],[-1,"chargerAnneeCourante(iAnneeCourant"],[1,"ecrireMessage(sMessag"],[0,"e); "]],"start1":246,"start2":246,"length1":42,"length2":29}]],"length":606,"saved":false}
{"ts":1369133872893,"patch":[[{"diffs":[[0,"kInfo1 ("],[1,"oSio"],[0,") {     "]],"start1":54,"start2":54,"length1":16,"length2":20}]],"length":610,"saved":false}
{"ts":1369133884042,"patch":[[{"diffs":[[0,"s.oS"],[1,"i"],[0,"o"],[-1,"cket"],[0,".on("]],"start1":190,"start2":190,"length1":13,"length2":10}]],"length":607,"saved":false}
{"ts":1369133901595,"patch":[[{"diffs":[[0,"= this;\n"],[1,"        \n        this.oSio = oSio;\n"],[0,"        "]],"start1":95,"start2":95,"length1":16,"length2":51}]],"length":642,"saved":false}
{"ts":1369134061329,"patch":[[{"diffs":[[0,"is.oSio."],[1,"oSocket."],[0,"on('sMes"]],"start1":224,"start2":224,"length1":16,"length2":24}]],"length":650,"saved":false}
{"ts":1369134736822,"patch":[[{"diffs":[[0,"on (sMessage) {\n"],[1,"            alert(sMessage);\n"],[0,"            self"]],"start1":261,"start2":261,"length1":32,"length2":61}]],"length":679,"saved":false}
{"ts":1369135166376,"patch":[[{"diffs":[[0,") {\n"],[-1,"            alert(sMessage);\n"],[0,"    "]],"start1":273,"start2":273,"length1":37,"length2":8}]],"length":650,"saved":false}
